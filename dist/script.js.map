<<<<<<< HEAD
{"version":3,"sources":["source/scripts/collections/blocks.js","source/scripts/collections/courses.js","source/scripts/collections/sessions.js","source/scripts/collections/templates.js","source/scripts/collections/tickets.js","source/scripts/collections/users.js","source/scripts/components/aos.js","source/scripts/components/calender.js","source/scripts/components/editor.js","source/scripts/components/labels.js","source/scripts/components/modal.js","source/scripts/components/prefill.js","source/scripts/components/upload.js","source/scripts/listeners.js","source/scripts/polyfill.js","source/scripts/root.js","node_modules/auto-reload-brunch/vendor/auto-reload.js"],"names":["blocks","module","exports","memory","load","element","innerHTML","Object","keys","reduce","html","key","render_one","dataset","style","backgroundImage","addEventListener","e","drag_x","clientX","drag_y","clientY","drag_block","document","body","right","top","root","main","classList","setAttribute","contains","remove","editor","add_block","courses","add","send","request","load_courses","users","course","published_at","thumbnail","name","view_mode","mode","updated","save_search","search_query","String","value","toLowerCase","edit","options","v","property","callback","list","querySelector","history","state","load_course","labels","loading","render","iteration","Math","floor","random","length","children","no_results","message","search","shift","archived","indexOf","manager_filter","admin","requestAnimationFrame","elem","createElement","appendChild","archive","toggle_manager","filter","index","toggle","splice","push","load_managers","user","role","avatar","JSON","stringify","course_nav","focus","format","date","Date","months","getDate","getMonth","getFullYear","getHours","getMinutes","view","sessions","url","page","load_page","prevent_url","invite","stats","updater","setTimeout","default_page","public_pages","AOS","init","load_login","me","session","sign_in","email","parentElement","password","sign_out","check_passwords","inputs","querySelectorAll","alert","old_password","res","localStorage","getItem","forEach","c","window","scrollTo","modal","close","operation","replace","decode","location","pathname","title","encode","parts","split","i","templates","ticket","select_course","id","console","log","save_name","client","language","load_calender","change_language","setItem","reload","highlight_lang","format_date","format_time","start","hide_notification","tickets","block","open_invite_block","toggle_course","load_clients","load_profile","load_profile_link","load_permissions","render_tasks","tasks","memo","task","load_permission","input","add_permission","archive_permission","parseInt","update_permission","checked","map","pop","update_task","users_admin","slice","update","toUpperCase","selectionStart","selectionEnd","save_email","load_email","t","define","amd","o","n","loaded","call","m","p","__esModule","default","assign","arguments","prototype","hasOwnProperty","r","a","u","f","s","d","l","b","y","g","h","w","k","x","all","atob","j","offset","delay","easing","duration","disable","once","startEvent","O","S","_","node","removeAttribute","E","mobile","phone","tablet","z","readyState","target","nodeType","hasAttribute","refresh","refreshHard","apply","clearTimeout","TypeError","leading","maxWait","trailing","cancel","flush","valueOf","test","Symbol","iterator","constructor","NaN","self","Function","toString","max","min","now","selector","fn","observe","documentElement","childList","subtree","removedNodes","ready","defineProperty","MutationObserver","WebKitMutationObserver","navigator","userAgent","vendor","opera","enumerable","configurable","writable","substr","getAttribute","position","pageYOffset","innerHeight","anchor","anchorPlacement","isNaN","offsetHeight","offsetLeft","offsetTop","tagName","scrollLeft","scrollTop","offsetParent","left","calender","moment","load_button_primary","load_button_secondary","load_overlay","load_background","toggle_publish","colors","looping","tooltip","published","device","option","join","type","toggle_tooltip_submenu","data","count","tab","content","tooltip_list","load_tooltip","input_save","activeElement","bottom","is_array","Array","isArray","display","demo","progress","set_option","scroll_trigger","config","load_element","parent","disabled","load_button_group","string","load_title","load_text","load_video","insert_video","previousElementSibling","container","nextElementSibling","iframe","save","temp_index","moved","action","reverse","set","LANGS","title_move_up","title_move_down","title_options","title_delete","title_save","title_online","title_offline","title_preview","title_mobile_view","title_desktop_view","delete","home","home_text","home_intake_button","home_nutrition","home_nutrition_description","home_training","home_training_description","home_lifestyle","home_lifestyle_description","home_share_page","home_joris_merel","home_joris_merel_description","team_text","team_intro_1","team_intro_2","team","sign_in_link","sign_in_input","invitations","confirm_delete","managers","stats_short","copy","viewed","unpublished","login_password","edit_password","placeholder","new_password","placeholder_search","save_profile","clients","app_settings","send_invite","events","text","button_primary","button_secondary","buttons","button_group","arrow","content_align","background","parallax","background_color","background_video","overlay","services","contact_name","contact_email","contact_message","video","youtube_placeholder","points","label","el","modal_element","open","transform","scrollY","scroll","scrolltop","empty","prefill","collection","item","property_key","property_collection","select","input_collection","submit","selection","ul","loop","component","uploads","busy","hover","clicked","changed","stopPropagation","find_elem","firstElementChild","click","extract","files","img","Image","onload","src","URL","createObjectURL","props","width","clientWidth","height","clientHeight","ratio","upload","read","paint","scale","canvas","getContext","drawImage","removeChild","blob","Blob","Uint8Array","toDataURL","binary","charCodeAt","indicator","xhr","XMLHttpRequest","responseText","parse","total","aggregate","percentage","updates","bind","listener","preventDefault","error","elements","bind_one","observer","attributes","characterData","mutations","attributeName","prop","bg","obj","escape","load_file","substring","str","onreadystatechange","status","match","undefined","to","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","Element","DOMTokenList","classes","className","token","defineElementGetter","getter","get","__defineGetter__","require","DEV_MODE","incoming","create_websocket","query","pair","callbacks","encodeURIComponent","ws","WebSocket","removeEventListener","Send","cb","merge","notify","redirect","href","MozWebSocket","br","brunch","ar","_ar","cacheBuster","round","browser","forceRepaint","reloaders","stylesheet","link","val","javascript","scripts","textScripts","script","srcScripts","onLoad","eval","newScript","async","head","port","host","server","hostname","connect","connection","onmessage","event","reloader","onerror","onclose"],"mappings":"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","file":"dist/script.js","sourcesContent":["let blocks = module.exports = {\r\n\r\n  memory: [],\r\n\r\n  load: (element) => {\r\n\r\n    element.innerHTML = Object.keys(blocks.memory).reduce((html, key) => `${ html }\r\n      <div><a data-key=\"${ key }\" data-load=\"blocks.render_one\"></a></div>`, '');\r\n      \r\n  },\r\n\r\n  render_one: (element) => {\r\n\r\n    element.innerHTML = `${ element.dataset.key }`;\r\n\r\n    element.style.backgroundImage = `url(/${ element.dataset.key }.jpg)`;\r\n\r\n    element.addEventListener('mousedown', (e)=>{\r\n\r\n      blocks.drag_x = e.clientX;\r\n\r\n      blocks.drag_y = e.clientY;\r\n\r\n      blocks.drag_block = element;\r\n\r\n    });\r\n\r\n  }\r\n\r\n};\r\n\r\ndocument.body.addEventListener('mousemove', (e)=>{\r\n\r\n  if(!blocks.drag_block) return e;\r\n\r\n  blocks.drag_block.style.right = `${ blocks.drag_x - e.clientX }px`;\r\n\r\n  blocks.drag_block.style.top = `${ e.clientY - blocks.drag_y }px`;\r\n\r\n  root.main.classList[blocks.drag_x - e.clientX > 190 ? 'add' : 'remove']('dropzone');\r\n\r\n});\r\n\r\ndocument.body.addEventListener('mouseup', (e)=>{\r\n\r\n  if(!blocks.drag_block) return e;\r\n\r\n  let key = blocks.drag_block.dataset.key;\r\n\r\n  blocks.drag_block.setAttribute('style', `background-image:url(/${ key }.jpg);`);\r\n\r\n  blocks.drag_block = null;\r\n\r\n  if(!root.main.classList.contains('dropzone')) return e;\r\n\r\n  root.main.classList.remove('dropzone');\r\n\r\n  root.editor.add_block(key);\r\n\r\n});","let courses = module.exports = {\r\n\r\n  // here we save all courses in client memory\r\n  // { [key]: OBJECT }\r\n  memory: {},\r\n\r\n  // button is placed to the right of the title of the page\r\n  add: (element) => {\r\n\r\n    // root.send is used to talk to the server\r\n    root.send({ request: 'new_course' });\r\n\r\n  },\r\n\r\n  load_courses: (element) => {\r\n\r\n    let keys = Object.keys(root.users.memory),\r\n        html = '';\r\n\r\n    element.innerHTML = Object.keys(root.courses.memory).reduce((html, key) => {\r\n\r\n      let course = root.courses.memory[key];\r\n\r\n      if(course.published_at) html += `\r\n\r\n        <div data-key=\"${ course.key }\">\r\n          <img src=\"${ course.thumbnail }\">\r\n          <span>${ course.name }</span>\r\n        </div>\r\n\r\n      `;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  // view mode can be cards or list, it has a button in the left top of the interface\r\n  view_mode: (element) => {\r\n\r\n    courses.mode = element.dataset.mode;\r\n\r\n    // we put the mode also in the main, to support CSS styling\r\n    root.main.dataset.mode = element.dataset.mode;\r\n\r\n    // see update loop at the bottom of this file\r\n\tcourses.updated = true;\r\n    \r\n  },\r\n  \r\n  // anytime the user triggers the data-input of the search field, we execute this\r\n  save_search: (element) => {\r\n\r\n    // used inside of courses.render()\r\n\tcourses.search_query = String(element.value || '').toLowerCase();\r\n\r\n    // see update loop at the bottom of this file\r\n\tcourses.updated = true;\r\n\r\n  },\r\n\r\n  // goes off anytime course-related data-input is fired\r\n  edit: (element, options) => {\r\n\r\n    // we always need to provide a request string and the key of the object we are editing\r\n    let request = {\r\n       request: 'edit',\r\n       key: element.dataset.course\r\n     };\r\n\r\n     // but the value we are changing shall be added dynamically,\r\n     // so we can use this edit function straight from the HTML\r\n     // <input data-input=\"courses.edit\" data-key=\"[KEY]\">\r\n     let v = options ? options.value : element.value;\r\n\r\n     request[element.dataset.property] = v;\r\n\r\n     // options.callback can only be used when this function is fired manually in Javascript\r\n     // since we cannot write a function inside of the HTML tag\r\n     root.send(request, options ? options.callback : null);\r\n\r\n  },\r\n\r\n  list: (element) => {\r\n\r\n    // we are lazy developers that do not want to select the list over and over\r\n    // whenever we use this list function manually\r\n    if(!element) element = document.querySelector('[data-load=\"courses.list\"]');\r\n\r\n    // element still not found?! we must stop this madness\r\n    if(!element) return;\r\n\r\n    if(history.state.course) return courses.load_course(element);\r\n    \r\n    // we clean out the old HTML should this function be fired after the list already rendered\r\n    element.innerHTML = ``;\r\n\r\n    // we show a loading text\r\n    root.labels.loading(element);\r\n\r\n    // and start the render loop!\r\n    courses.render(element);\r\n\r\n  },\r\n\r\n  load_course: (element) => {\r\n\r\n    element.innerHTML = `<div data-load=\"courses.render_one\" data-course=\"${ history.state.course }\"></div>`;\r\n\r\n  },\r\n\r\n\r\n  render: (element, keys, iteration) => {\r\n\r\n    // maybe the user navigated away? Somehow the element is gone, RIP loop :'(\r\n    if(!element) return;\r\n\r\n    // we need to make sure we only run 1 loop at the same time\r\n    // every time render is called outside of its own loop, iteration will be undefined\r\n    // so we use this condition to also update the dataset of the element\r\n    // in order for the old loop to kill itself...\r\n    if(!iteration) iteration = element.dataset.iteration = 'i' + Math.floor(Math.random() * 1000);\r\n\r\n    // if it turns out this execution is an outdated iteration,\r\n    // the element has updated its dataset.iteration outside of this loop\r\n    // we have to bring this loop to the white shores\r\n    // I offer this line of comment in dedication to the loop whos life will be cut before the natural end\r\n    if(element.dataset.iteration != iteration) return;\r\n\r\n    // every time render is called outside of its own loop, keys will be undefined\r\n    if(!keys) keys = Object.keys(courses.memory);\r\n\r\n    // the loop has finished\r\n    if(!keys.length) {\r\n\r\n        // sadly, no children are found inside of the element\r\n        // this can only mean there were no results\r\n        if(!element.children.length) return root.labels.no_results(element);\r\n\r\n        // we had results, and are no longer loading, so lets clear that loading message\r\n        return element.dataset.message = '';\r\n\r\n    }\r\n\r\n    let search = courses.search_query, // search value is changed by courses.save_search()\r\n        course = courses.memory[keys.shift()];\r\n\r\n    if(!course || course.archived ||\r\n      (search && String(course.name).toLowerCase().indexOf(search) == -1) ||\r\n      (courses.manager_filter.length && courses.manager_filter.indexOf(course.admin) == -1)\r\n    ) {\r\n\r\n       if(keys.length % 100 == 0) return requestAnimationFrame(()=> {\r\n\r\n         courses.render(element, keys, iteration);\r\n\r\n       });\r\n\r\n       return courses.render(element, keys, iteration);\r\n\r\n     }\r\n\r\n     requestAnimationFrame(()=> {\r\n\r\n      courses.render(element, keys, iteration);\r\n\r\n    });\r\n\r\n    let elem = document.createElement('div');\r\n\r\n    elem.dataset.load = 'courses.render_one';\r\n\r\n    elem.dataset.course = course.key;\r\n\r\n    element.appendChild(elem);\r\n\r\n  },\r\n\r\n  archive: (element) => {\r\n\r\n    let course = courses.memory[element.dataset.key];\r\n\r\n    root.send({ request: 'archive', key: course.key }, () => {\r\n\r\n      // see update loop at the bottom of this file\r\n      courses.updated = true;\r\n      \r\n    });\r\n\r\n  },\r\n\r\n  manager_filter: [],\r\n\r\n  toggle_manager: (element) => {\r\n\r\n    let key = element.dataset.key,\r\n        filter = courses.manager_filter,\r\n        index = filter.indexOf(key);\r\n\r\n    element.classList.toggle('active');\r\n\r\n    if(index > -1) filter.splice(index, 1);\r\n\r\n    else filter.push(key);\r\n\r\n    courses.updated = true;\r\n\r\n  },\r\n\r\n  load_managers: (element) => {\r\n\r\n    element.innerHTML = Object.keys(root.users.memory).reduce((html, key) => {\r\n\r\n      let user = root.users.memory[key];\r\n\r\n      if(user.role == 'admin') html += `<div data-click=\"courses.toggle_manager\" data-key=\"${ user.key }\">\r\n        <img src=\"${ user.avatar }\">\r\n        <span data-load=\"users.memory.${ user.key }.name\"></span>\r\n      </div>`;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  render_one: (element) => {\r\n    \r\n    let course = courses.memory[element.dataset.course];\r\n\r\n    element.dataset.key = element.dataset.course;\r\n\r\n    element.innerHTML = courses.mode == 'lists' ? `\r\n      <input placeholder=\"Naam\" data-property=\"name\" data-course=\"${ course.key }\" data-input=\"courses.edit\" type=\"text\" value=\"${ course.name }\">\r\n      <pre>${ JSON.stringify(course, null, 2) }</pre>\r\n    ` : `\r\n      <div data-key=\"${ course.key }\" data-load=\"upload.render\" class=\"upload thumbnail\" style=\"background-image:url(${ course.thumbnail })\"></div>\r\n      ${ courses.course_nav(element) }\r\n      <img src=\"${ root.users.memory[course.admin].avatar }\">\r\n      <input data-load=\"labels.name\" data-property=\"name\" data-course=\"${ course.key }\" data-input=\"courses.edit\" type=\"text\" value=\"${ course.name }\">\r\n    `;\r\n\r\n    if(!course.name) element.querySelector('input').focus();\r\n\r\n    function format(date) {\r\n\r\n      date = new Date(date);\r\n\r\n      let months = ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december'];\r\n\r\n      if (!date || String(date).toLowerCase() == 'invalid date') return '';\r\n\r\n      return `\r\n        ${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}\r\n        ${ date.getHours() }:${ String(date.getMinutes()).length > 1 ? '' : 0 }${ date.getMinutes() }\r\n      `;\r\n\r\n    }\r\n\r\n  },\r\n\r\n  course_nav: (element) => {\r\n\r\n   let course = root.courses.memory[element.dataset.key];\r\n\r\n   return `<div class=\"course-nav\">\r\n        ${ course.published_at ? '<span class=\"published\">PUBLISHED</span>' : '<span class=\"unpublished\">UNPUBLISHED</span>' }<br>\r\n        <a data-key=\"${ element.dataset.key }\" data-click=\"courses.view\" data-load=\"labels.view\"></a>\r\n        <a data-key=\"${ element.dataset.key }\" data-click=\"modal.open\" data-modal=\"courses.invite\" data-load=\"labels.invite\"></a>\r\n        <a data-key=\"${ element.dataset.key }\" data-click=\"modal.open\" data-modal=\"courses.stats\" data-load=\"labels.stats_short\"></a>\r\n        <a data-key=\"${ element.dataset.key }\" data-click=\"modal.open\" data-modal=\"courses.delete\" data-load=\"labels.delete\"></a>\r\n      </div>`;\r\n      \r\n  },\r\n\r\n  view: (element) => {\r\n\r\n    root.sessions.url({ page: 'edit', course: element.dataset.key });\r\n\r\n    root.sessions.load_page(null, { prevent_url: true });\r\n\r\n  },\r\n\r\n\r\n  invite: (element) => {\r\n\r\n    let course = root.courses.memory[element.dataset.key];\r\n\r\n    element.innerHTML = `<div class=\"modal\">\r\n      <i class=\"fa fa-times close-modal\" data-click=\"modal.close\"></i>\r\n      <div class=\"content\">\r\n        <div class=\"thumbnail\" style=\"background-image:url(${ course.thumbnail })\"></div>\r\n        <h3 data-load=\"labels.invite\"></h3>\r\n        ${ courses.course_nav(element) }\r\n        <input placeholder=\"Naam\" data-property=\"name\" data-course=\"${ course.key }\" data-input=\"courses.edit\" type=\"text\" value=\"${ course.name }\">\r\n        <span data-load=\"users.memory.${ course.admin }.name\"></span>\r\n      </div>\r\n    </div>`;\r\n\r\n  },\r\n  \r\n  stats: (element) => {\r\n    \r\n    let course = root.courses.memory[element.dataset.key];\r\n\r\n    element.innerHTML = `<div class=\"modal\">\r\n      <i class=\"fa fa-times close-modal\" data-click=\"modal.close\"></i>\r\n      <div class=\"content\">\r\n        <div class=\"thumbnail\" style=\"background-image:url(${ course.thumbnail })\"></div>\r\n        <h3 data-load=\"labels.stats\"></h3>\r\n        ${ courses.course_nav(element) }\r\n        <input placeholder=\"Naam\" data-property=\"name\" data-course=\"${ course.key }\" data-input=\"courses.edit\" type=\"text\" value=\"${ course.name }\">\r\n        <span data-load=\"users.memory.${ course.admin }.name\"></span>\r\n      </div>\r\n    </div>`;\r\n    \r\n  }\r\n  \r\n};\r\n\r\n(function updater(){\r\n\r\n  if(!courses.updated) return setTimeout(updater, 300);\r\n\r\n  courses.updated = false;\r\n\r\n  if(root.main.dataset.load == 'edit.html') root.main.dataset.load = 'edit.html'; // this correctly triggers the mutationobserver in listeners.js\r\n\r\n  else courses.list();\r\n\r\n  updater();\r\n\r\n}());","let sessions = module.exports = {\r\n\r\n  default_page: 'home',\r\n\r\n  public_pages: ['home', 'courses', 'login', 'about', 'team', 'services', 'contact'],\r\n\r\n  memory: {},\r\n  \r\n  load: function load(){\r\n\r\n    root.main = document.querySelector('main');\r\n\r\n    if(!root.main) return setTimeout(load, 0);\r\n\r\n    AOS.init();\r\n    \r\n    sessions.url(null, { prevent_url: true });\r\n\r\n  },\r\n\r\n  load_login: (element) => {\r\n\r\n    if(!root.me || !root.me.session) return;\r\n\r\n    sessions.url('/courses');\r\n\r\n    sessions.load_page(null, { prevent_url: true });\r\n\r\n  },\r\n\r\n  sign_in: (element) => {\r\n\r\n    root.send({\r\n      request: 'sign_in',\r\n      email: element.parentElement.querySelector('[type=\"email\"]').value || '',\r\n      password: element.parentElement.querySelector('[type=\"password\"]').value || '',\r\n    }, () => {\r\n\r\n      sessions.url('/courses');\r\n\r\n      sessions.load_page(null, { prevent_url: true });\r\n\r\n    });\r\n  \t\r\n  },\r\n\r\n  sign_out: (element) => {\r\n\r\n    root.send({ request: 'sign_out' });\r\n\r\n  },\r\n\r\n  check_passwords: (element) => {\r\n\r\n    let inputs = root.main.querySelectorAll('input[type=\"password\"]');\r\n\r\n    if(inputs[0].value != inputs[1].value) return alert('not equal');\r\n\r\n    root.send({\r\n      request: 'set_password',\r\n      old_password: inputs[0].value,\r\n      password: inputs[2].value || ''\r\n    }, (res) => {\r\n\r\n   \r\n\r\n    });\r\n\r\n  },\r\n\r\n  load_page: (elem, options) => {\r\n\r\n    if(!root.main) return setTimeout(root.main, 0, elem, options);\r\n\r\n    let page = elem ? elem.dataset.page : history.state ? history.state.page : 'home';\r\n\r\n    if(!localStorage.getItem('authenticated') && sessions.public_pages.indexOf(page) == -1) {\r\n      page = 'home';\r\n    }\r\n\r\n    document.body.classList.forEach((c) => {\r\n\r\n      if(c.indexOf('-page') == -1) return;\r\n\r\n      document.body.classList.remove(c);\r\n\r\n    });\r\n\r\n    document.body.classList.remove('notified');\r\n\r\n    document.body.classList.add(page + '-page');\r\n    \r\n    root.main.dataset.load = page + '.html';\r\n\r\n    if(!options || !options.prevent_url) sessions.url('/' + page);\r\n\r\n    window.scrollTo(0, 0);\r\n\r\n    root.modal.close();\r\n\r\n  },\r\n\r\n  url: (state, options) => {\r\n\r\n    let operation = options && options.replace ? 'replaceState' : 'pushState';\r\n\r\n    let url = typeof state == 'string' ? decode() : location.pathname;\r\n\r\n    return history[operation](state ? state : decode(), options ? options.title : document.title, state ? encode() : pathname);\r\n\r\n    function encode() {\r\n\r\n      let page = state ? state.page || sessions.default_page : sessions.default_page;\r\n\r\n      return Object.keys(state).reduce((url,key)=>{\r\n\r\n        if (key == 'page') return url;\r\n\r\n        return `${url}/${key}/${ state[key] }`;\r\n\r\n      }\r\n      , `/${ page == sessions.default_page ? '' : page }`);\r\n\r\n    }\r\n\r\n    function decode() {\r\n\r\n      let parts = (state || location.pathname).split(/\\//g);\r\n\r\n      state = {};\r\n\r\n      for (let i = 0; i < parts.length; i += 2) {\r\n\r\n        state[parts[i] || 'page'] = parts[i + 1];\r\n\r\n      }\r\n\r\n      state.page = state.page || sessions.default_page;\r\n      \r\n      return state;\r\n\r\n    }\r\n\r\n  }\r\n\r\n};","let templates = module.exports = {\r\n\r\n  ticket: {},\r\n\r\n  select_course: (element) =>{\r\n\r\n  \ttemplates.ticket.course = element.id;\r\n\r\n  \tconsole.log(templates.ticket);\r\n\r\n  },\r\n\r\n  save_name: (element) =>{\r\n\r\n  \ttemplates.ticket.client = element.value;\r\n\r\n  \tconsole.log(templates.ticket);\r\n\r\n  },\r\n\r\n  load_courses: (element) => {\r\n\r\n\tlet html = '',\r\n\t\tkeys = Object.keys(root.courses.memory);\r\n\r\n\tfor(var i = 0; i < keys.length; i++) {\r\n\t\r\n\t\tlet course = root.courses.memory[keys[i]];\r\n\r\n\t\tif(!course.published_at) continue;\r\n\r\n\t\thtml += `\r\n\t\t    <input data-change=\"templates.select_course\" id=\"${ course.key }\" type=\"radio\" name=\"course_list\" value=\"${course.key}\">\r\n\t\t\t<div class=\"invite-course\" data-key=\"${ keys[i] }\">\r\n\r\n\t\t\t\t<div class=\"thumbnail-container\"><img src=\"${ course.thumbnail }\"></div>\r\n\r\n\t\t\t\t<span>${ course.name }</span>\r\n\r\n\t\t\t\t<small class=\"lang ${ course.language }\"></small>\r\n\r\n\t\t\t\t<label for=\"${ course.key }\"></label>\r\n\r\n\t\t\t</div>\r\n\t\t`;\r\n\r\n\t};\r\n\r\n\telement.innerHTML = html;\r\n\r\n  },\r\n\r\n  load_calender: (element) => {\r\n\r\n\telement.innerHTML = `\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t`;\r\n\r\n  },\r\n\r\n  change_language: (element) => {\r\n\r\n\tlocalStorage.setItem('language', element.dataset.language);\r\n\r\n\tlocation.reload();\r\n\r\n  },\r\n\r\n  highlight_lang: (element) => {\r\n\r\n  \tif(!element.classList.contains(localStorage.getItem('language') || 'nl')) return;\r\n\r\n  \telement.classList.add('active');\r\n  \t\r\n  },\r\n\r\n  format_date: (element) => {\r\n\r\n  \tlet date = new Date(element.dataset.date),\r\n\t\tmonths = ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december'];\r\n\r\n\tif (!date || String(date).toLowerCase() == 'invalid date') return;\r\n\r\n\telement.innerHTML = `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;\r\n\r\n  },\r\n\r\n  format_time: (element) => {\r\n\r\n  \tlet date = new Date(element.dataset.date);\r\n\r\n\tif (!date || String(date).toLowerCase() == 'invalid date') return;\r\n\r\n  \telement.innerHTML = `${ date.getHours() }:${ String(date.getMinutes()).length > 1 ? '' : 0 }${ date.getMinutes() }`;\r\n\r\n  },\r\n\r\n  start: (element) => {\r\n\r\n\tconsole.log('e', element);\r\n  \t\r\n  },\r\n\r\n  hide_notification: (element) => {\r\n  \t\r\n  \tdocument.querySelector('body').classList.remove('notified');\r\n\r\n  }\r\n\r\n};","let tickets = module.exports = {\r\n\r\n  // here we save all tickets in client memory\r\n  // { [key]: OBJECT }\r\n  memory: {},\r\n\r\n  change_language: (element) => {\r\n\r\n    let block = document.querySelector('#invite-block');\r\n\r\n    block.dataset.language = element.dataset.language;\r\n\r\n  },\r\n\r\n  open_invite_block: (element) => {\r\n\r\n    let block = document.querySelector('#invite-block');\r\n\r\n    block.classList.toggle('open');\r\n\r\n  },\r\n\r\n  // button is placed to the right of the title of the page\r\n  add: (element) => {\r\n\r\n    // root.send is used to talk to the server\r\n    root.send({ request: 'new_ticket' });\r\n\r\n  },\r\n\r\n  // anytime the user triggers the data-input of the search field, we execute this\r\n  save_search: (element) => {\r\n\r\n    // used inside of tickets.render()\r\n\ttickets.search_query = String(element.value || '').toLowerCase();\r\n\r\n    // see update loop at the bottom of this file\r\n\ttickets.updated = true;\r\n\r\n  },\r\n\r\n  // goes off anytime ticket-related data-input is fired\r\n  edit: (element, options) => {\r\n\r\n    // we always need to provide a request string and the key of the object we are editing\r\n    let request = {\r\n       request: 'edit',\r\n       key: element.dataset.ticket\r\n     };\r\n\r\n     // but the value we are changing shall be added dynamically,\r\n     // so we can use this edit function straight from the HTML\r\n     // <input data-input=\"tickets.edit\" data-key=\"[KEY]\">\r\n     let v = options ? options.value : element.value;\r\n\r\n     request[element.dataset.property] = v;\r\n\r\n     // options.callback can only be used when this function is fired manually in Javascript\r\n     // since we cannot write a function inside of the HTML tag\r\n     root.send(request, options ? options.callback : null);\r\n\r\n  },\r\n\r\n  list: (element) => {\r\n\r\n    // we are lazy developers that do not want to select the list over and over\r\n    // whenever we use this list function manually\r\n    if(!element) element = document.querySelector('[data-load=\"tickets.list\"]');\r\n\r\n    // element still not found?! we must stop this madness\r\n    if(!element) return;\r\n    \r\n    // we clean out the old HTML should this function be fired after the list already rendered\r\n    element.innerHTML = ``;\r\n\r\n    // we show a loading text\r\n    root.labels.loading(element);\r\n\r\n    // and start the render loop!\r\n    tickets.render(element);\r\n\r\n  },\r\n\r\n\r\n  render: (element, keys, iteration) => {\r\n\r\n    // maybe the user navigated away? Somehow the element is gone, RIP loop :'(\r\n    if(!element) return;\r\n\r\n    // we need to make sure we only run 1 loop at the same time\r\n    // every time render is called outside of its own loop, iteration will be undefined\r\n    // so we use this condition to also update the dataset of the element\r\n    // in order for the old loop to kill itself...\r\n    if(!iteration) iteration = element.dataset.iteration = 'i' + Math.floor(Math.random() * 1000);\r\n\r\n    // if it turns out this execution is an outdated iteration,\r\n    // the element has updated its dataset.iteration outside of this loop\r\n    // we have to bring this loop to the white shores\r\n    // I offer this line of comment in dedication to the loop whos life will be cut before the natural end\r\n    if(element.dataset.iteration != iteration) return;\r\n\r\n    // every time render is called outside of its own loop, keys will be undefined\r\n    if(!keys) keys = Object.keys(tickets.memory);\r\n\r\n    // the loop has finished\r\n    if(!keys.length) {\r\n\r\n        // sadly, no children are found inside of the element\r\n        // this can only mean there were no results\r\n        if(!element.children.length) return root.labels.no_results(element);\r\n\r\n        // we had results, and are no longer loading, so lets clear that loading message\r\n        return element.dataset.message = '';\r\n\r\n    }\r\n\r\n    let search = tickets.search_query, // search value is changed by tickets.save_search()\r\n        ticket = tickets.memory[keys.shift()];\r\n\r\n    if(!ticket || ticket.archived ||\r\n      (search && String(ticket.name).toLowerCase().indexOf(search) == -1) ||\r\n      (tickets.manager_filter.length && tickets.manager_filter.indexOf(ticket.admin) == -1)\r\n    ) {\r\n\r\n       if(keys.length % 100 == 0) return requestAnimationFrame(()=> {\r\n\r\n         tickets.render(element, keys, iteration);\r\n\r\n       });\r\n\r\n       return tickets.render(element, keys, iteration);\r\n\r\n     }\r\n\r\n     requestAnimationFrame(()=> {\r\n\r\n      tickets.render(element, keys, iteration);\r\n\r\n    });\r\n\r\n    let elem = document.createElement('div');\r\n\r\n    elem.dataset.load = 'tickets.render_one';\r\n\r\n    elem.dataset.ticket = ticket.key;\r\n\r\n    element.appendChild(elem);\r\n\r\n  },\r\n\r\n  archive: (element) => {\r\n\r\n    let ticket = tickets.memory[element.dataset.key];\r\n\r\n    root.send({ request: 'archive', key: ticket.key }, () => {\r\n\r\n      // see update loop at the bottom of this file\r\n      tickets.updated = true;\r\n      \r\n    });\r\n\r\n  },\r\n\r\n  manager_filter: [],\r\n\r\n  toggle_course: (element) => {\r\n\r\n    let key = element.dataset.key,\r\n        filter = tickets.manager_filter,\r\n        index = filter.indexOf(key);\r\n\r\n    element.classList.toggle('active');\r\n\r\n    if(index > -1) filter.splice(index, 1);\r\n\r\n    else filter.push(key);\r\n\r\n    tickets.updated = true;\r\n\r\n  },\r\n\r\n  load_courses: (element) => {\r\n\r\n    element.innerHTML = Object.keys(root.courses.memory).reduce((html, key) => {\r\n\r\n      return html + `<div data-click=\"tickets.toggle_course\" data-key=\"${ key }\">\r\n        <span data-load=\"courses.memory.${ key }.name\"></span>\r\n      </div>`;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  render_one: (element) => {\r\n\r\n    let ticket = tickets.memory[element.dataset.ticket],\r\n        user = root.users.memory[ticket.user];\r\n\r\n    if(!user) return;\r\n    \r\n    element.innerHTML = `\r\n\r\n      <div class=\"${ user.key == root.me.user ? 'me' : '' }\" data-key=\"${ user.key }\">\r\n        <img src=\"${ user.avatar }\">\r\n        <span data-load=\"users.memory.${ user.key }.name\"></span>\r\n        <span data-load=\"users.memory.${ user.key }.email\"></span>\r\n      </div>\r\n\r\n    `;\r\n\r\n  },\r\n\r\n};\r\n\r\n(function updater(){\r\n\r\n  if(!tickets.updated) return setTimeout(updater, 300);\r\n\r\n  tickets.updated = false;\r\n\r\n  tickets.list();\r\n\r\n  updater();\r\n\r\n}());","let users = module.exports = {\r\n\r\n  memory: {},\r\n\r\n  add: (element) => {\r\n\r\n    root.send({ request: 'new_user' });\r\n\r\n  },\r\n\r\n  load_clients: (element) => {\r\n\r\n    let keys = Object.keys(root.users.memory),\r\n        html = '';\r\n\r\n    element.innerHTML = Object.keys(root.users.memory).reduce((html, key) => {\r\n\r\n      let user = root.users.memory[key];\r\n\r\n      if(user.role == 'client') html += `\r\n\r\n        <div data-key=\"${ user.key }\">\r\n          <img src=\"${ user.avatar }\">\r\n          <span data-load=\"users.memory.${ user.key }.name\"></span>\r\n        </div>\r\n\r\n      `;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  load_managers: (element) => {\r\n\r\n    element.innerHTML = Object.keys(root.users.memory).reduce((html, key) => {\r\n\r\n      let user = root.users.memory[key];\r\n\r\n      if(user.role == 'admin') html += `\r\n\r\n        <div class=\"${ user.key == root.me.user ? 'me' : '' }\" data-key=\"${ user.key }\">\r\n          <img src=\"${ user.avatar }\">\r\n          <span data-load=\"users.memory.${ user.key }.name\"></span>\r\n          <span data-load=\"users.memory.${ user.key }.email\"></span>\r\n        </div>\r\n\r\n      `;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  load_profile: (element) => {\r\n\r\n    let user = root.users.memory[root.me.user];\r\n\r\n    element.innerHTML = `\r\n\r\n        <img class=\"avatar\" src=\"${ user.avatar }\"><br>\r\n\r\n        <div class=\"divider horizontal grey\"></div>\r\n\r\n        <input type=\"input\" value=\"${ user.name }\"><br>\r\n\r\n        <a data-load=\"labels.sign_out\" data-click=\"sessions.sign_out\"></a>\r\n\r\n    `;\r\n\r\n  },\r\n\r\n  load_profile_link: (element) => {\r\n    \r\n    if(!root.me || !root.me.user || !users.memory[root.me.user]) return setTimeout(users.load_profile_link, 500, element);\r\n\r\n    let user = users.memory[root.me.user];\r\n\r\n    element.innerHTML = `\r\n\r\n      <div class=\"img-container\"><img src=\"${ user.avatar }\"></div>\r\n      <span>${ user.name }</span>\r\n      \r\n    `;\r\n\r\n  },\r\n  \r\n  load_permissions: (element) => {\r\n\r\n    element.innerHTML = `\r\n      <label class=\"dark-grey\" data-load=\"labels.permissions\"></label><br>\r\n\r\n      <div class=\"row\">\r\n        <input id=\"add\" data-load=\"users.load_permission\" data-change=\"users.update_permission\" type=\"checkbox\">\r\n        <label for=\"add\" class=\"task fa fa-user-plus\"></label>\r\n        <input disabled type=\"text\" value=\"ADMIN\">\r\n      </div>\r\n\r\n     ${ users.render_tasks() }\r\n      `;\r\n    \r\n  },\r\n\r\n  render_tasks: () => {\r\n\r\n    let user = users.memory[root.me.user];\r\n\r\n    return user.tasks.reduce((memo, task, index) => {\r\n\r\n      memo += `\r\n      <div class=\"row\">\r\n        ${ task ? `<input id=\"task-${ index }\" data-load=\"users.load_permission\" data-change=\"users.update_permission\" type=\"checkbox\">` : '' }\r\n        <label for=\"task-${ index + 1 }\" class=\"task task-${ index + 1 }\">${ index + 1 }</label>\r\n        <input placeholder=\"NIEUW\" data-index=\"${ index }\" data-input=\"users.update_task\" type=\"text\" value=\"${ task }\">\r\n      </div>`;\r\n\r\n      return memo;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  load_permission: (input) => {\r\n\r\n    if(\r\n    (input.id == 'add' && root.me.add_permission) ||\r\n    (input.id == 'archive' && root.me.archive_permission) ||\r\n    root.me.tasks[parseInt(input.id.replace('task-', ''), 10)]\r\n    ) input.setAttribute('checked', true);\r\n\r\n  },\r\n\r\n  update_permission: (input) => {\r\n\r\n    if(input.id == 'add') return root.send({ request: 'update_permission', add_permission: input.checked });\r\n\r\n    if(input.id == 'archive') return root.send({ request: 'update_permission', archive_permission: input.checked });\r\n\r\n    let tasks = users.memory[root.me.user].tasks.map((task, index) => {\r\n\r\n      if(index == parseInt(input.id.replace('task-', ''), 10)) return input.checked ? task : '';\r\n\r\n      return root.me.tasks[index] ? task : '';\r\n\r\n    });\r\n\r\n    tasks.pop();\r\n\r\n    root.send({ request: 'update_permission', tasks: tasks });\r\n\r\n  },\r\n\r\n  update_task: (element) => {\r\n\r\n   let index = element.dataset.index,\r\n       tasks = users.memory.users_admin.tasks.slice();\r\n\r\n    tasks[parseInt(element.dataset.index, 10)] = element.value;\r\n\r\n    let update = tasks.reduce((memo, task) => {\r\n\r\n      if(!task) return memo;\r\n\r\n      memo.push(String(task).toUpperCase());\r\n\r\n      return memo;\r\n\r\n    }, []);\r\n\r\n    update.push('');\r\n\r\n    root.send({ request: 'update_tasks', tasks: update }, (user) => {\r\n\r\n      if(tasks.length == update.length) return;\r\n      \r\n      let elem = document.querySelector('[data-load=\"users.load_permissions\"]');\r\n\r\n      users.load_permissions(elem);\r\n\r\n        let input = document.querySelector(`[data-index=\"${ index }\"]`)\r\n\r\n        input.focus();\r\n        \r\n        input.selectionStart = input.selectionEnd = input.value.length;\r\n\r\n    });\r\n\r\n  },\r\n\r\n  save_email: (input) => {\r\n\r\n    localStorage.setItem('remember_email', input.value);\r\n\r\n  },\r\n\r\n  load_email: (input) => {\r\n\r\n    input.value = localStorage.getItem('remember_email') || '';\r\n\r\n    input.focus();\r\n\r\n  },\r\n\r\n\r\n  list: (element) => {\r\n\r\n    if(!element) return;\r\n\r\n    element.innerHTML = ``;\r\n\r\n    root.labels.loading(element);\r\n\r\n    requestAnimationFrame(()=> {\r\n\r\n      let search = String(localStorage.getItem('search') || '').toLowerCase();\r\n\r\n      users.render(element, search);\r\n\r\n    });\r\n\r\n  },\r\n\r\n\r\n  render: (element, search, keys, iteration) => {\r\n\r\n    if(!element) return;\r\n\r\n    if(!iteration) iteration = element.dataset.iteration = 'i' + Math.floor(Math.random() * 1000);\r\n\r\n    if(element.dataset.iteration != iteration) return;\r\n\r\n    keys = keys || Object.keys(users.memory);\r\n\r\n    if(!keys.length) {\r\n\r\n        if(!element.children.length) return root.labels.no_results(element);\r\n\r\n        return element.dataset.title = '';\r\n\r\n    }\r\n\r\n    let user = users.memory[keys.shift()];\r\n\r\n    if(!user || user.archived ||\r\n       (search && String(user.name).toLowerCase().indexOf(search) == -1)\r\n     ) {\r\n\r\n       if(keys.length % 100 == 0) return requestAnimationFrame(()=> {\r\n\r\n         users.render(element, search, keys, iteration);\r\n\r\n       });\r\n\r\n       return users.render(element, search, keys, iteration);\r\n\r\n     }\r\n\r\n     requestAnimationFrame(()=> {\r\n\r\n      users.render(element, search, keys, iteration);\r\n\r\n    });\r\n\r\n    let elem = document.createElement('div');\r\n\r\n    elem.dataset.load = 'users.render_one';\r\n\r\n    elem.dataset.user = user.key;\r\n\r\n    element.appendChild(elem);\r\n\r\n  },\r\n\r\n  edit: (element, options) => {\r\n\r\n    let request = {\r\n       request: 'edit',\r\n       key: element.dataset.user\r\n     };\r\n\r\n     let v = options ? options.value : element.value;\r\n\r\n     request[element.dataset.property] = v;\r\n\r\n     root.send(request, options ? options.callback : null);\r\n\r\n  },\r\n  \r\n  archive: (element) => {\r\n\r\n    let user = users.memory[element.dataset.key];\r\n\r\n    root.send({ request: 'archive', key: user.key }, () => {\r\n\r\n      users.updated = true;\r\n      \r\n    });\r\n\r\n  },\r\n\r\n  render_one: (element) => {\r\n\r\n    let user = users.memory[element.dataset.user];\r\n\r\n    let tasks = users.memory[root.me.user].tasks.reduce((html, task, index) => {\r\n\r\n      if(task) html += `<div data-index=\"${ index }\" data-user=\"${ user.key }\" data-click=\"users.toggle_task\" class=\"small\">${ task }</div>`;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n    element.innerHTML = `\r\n      <div>\r\n        <input placeholder=\"Name\" data-property=\"name\" data-user=\"${ user.key }\" data-input=\"users.edit\" type=\"text\" value=\"${ user.name || '' }\">\r\n      </div>\r\n      <div>\r\n        <input placeholder=\"example@email.com\" data-property=\"email\" data-user=\"${ user.key }\" data-input=\"users.edit\" type=\"text\" value=\"${ user.email || '' }\">\r\n      </div>\r\n      <div>\r\n        <input placeholder=\"Password\" data-property=\"password\" data-user=\"${ user.key }\" data-input=\"users.edit\" type=\"password\">\r\n      </div>\r\n      <div>\r\n        <select data-property=\"role\" value=\"${ user.role }\" data-user=\"${ user.key }\" data-change=\"users.edit\">\r\n          <option${ user.role == 'intern' ? ' selected' : '' } value=\"intern\">Intern</option>\r\n          <option${ user.role == 'driver' ? ' selected' : '' } value=\"driver\">Chauffeur</option>\r\n          <option${ user.role == 'admin' ? ' selected' : '' } value=\"admin\">Admin</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <button data-click=\"users.archive\" data-key=\"${ user.key }\">ARCHIVEER</button>\r\n      </div>\r\n    `;\r\n\r\n    if(!user.name) element.querySelector('input').focus();\r\n\r\n    function format(date) {\r\n\r\n      date = new Date(date);\r\n\r\n      let months = ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december'];\r\n\r\n      if (!date || String(date).toLowerCase() == 'invalid date') return '';\r\n\r\n      return `\r\n        ${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}\r\n        ${ date.getHours() }:${ String(date.getMinutes()).length > 1 ? '' : 0 }${ date.getMinutes() }\r\n      `;\r\n\r\n    }\r\n\r\n  },\r\n\r\n  save_search: (element) => {\r\n\r\n\tlocalStorage.setItem('search', element.value);\r\n\r\n\tusers.updated = true;\r\n\r\n  }\r\n\r\n  \r\n};\r\n\r\n(function updater(){\r\n\r\n  if(!users.updated) return setTimeout(updater, 300);\r\n\r\n  users.updated = false;\r\n\r\n  // updater();\r\n\r\n}());","//AOS\r\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.AOS=t():e.AOS=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p=\"dist/\",t(0)}([function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(1),a=(o(r),n(6)),u=o(a),c=n(7),f=o(c),s=n(8),d=o(s),l=n(9),p=o(l),m=n(10),b=o(m),v=n(11),y=o(v),g=n(14),h=o(g),w=[],k=!1,x=document.all&&!window.atob,j={offset:120,delay:0,easing:\"ease\",duration:400,disable:!1,once:!1,startEvent:\"DOMContentLoaded\"},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(k=!0),k)return w=(0,y.default)(w,j),(0,b.default)(w,j.once),w},S=function(){w=(0,h.default)(),O()},_=function(){w.forEach(function(e,t){e.node.removeAttribute(\"data-aos\"),e.node.removeAttribute(\"data-aos-easing\"),e.node.removeAttribute(\"data-aos-duration\"),e.node.removeAttribute(\"data-aos-delay\")})},E=function(e){return e===!0||\"mobile\"===e&&p.default.mobile()||\"phone\"===e&&p.default.phone()||\"tablet\"===e&&p.default.tablet()||\"function\"==typeof e&&e()===!0},z=function(e){return j=i(j,e),w=(0,h.default)(),E(j.disable)||x?_():(document.querySelector(\"body\").setAttribute(\"data-aos-easing\",j.easing),document.querySelector(\"body\").setAttribute(\"data-aos-duration\",j.duration),document.querySelector(\"body\").setAttribute(\"data-aos-delay\",j.delay),\"DOMContentLoaded\"===j.startEvent&&[\"complete\",\"interactive\"].indexOf(document.readyState)>-1?O(!0):\"load\"===j.startEvent?window.addEventListener(j.startEvent,function(){O(!0)}):document.addEventListener(j.startEvent,function(){O(!0)}),window.addEventListener(\"resize\",(0,f.default)(O,50,!0)),window.addEventListener(\"orientationchange\",(0,f.default)(O,50,!0)),window.addEventListener(\"scroll\",(0,u.default)(function(){(0,b.default)(w,j.once)},99)),document.addEventListener(\"DOMNodeRemoved\",function(e){var t=e.target;t&&1===t.nodeType&&t.hasAttribute&&t.hasAttribute(\"data-aos\")&&(0,f.default)(S,50,!0)}),(0,d.default)(\"[data-aos]\",S),w)};e.exports={init:z,refresh:O,refreshHard:S}},function(e,t){},,,,,function(e,t){(function(t){\"use strict\";function n(e,t,n){function o(t){var n=b,o=v;return b=v=void 0,k=t,g=e.apply(o,n)}function r(e){return k=e,h=setTimeout(s,t),S?o(e):g}function a(e){var n=e-w,o=e-k,i=t-n;return _?j(i,y-o):i}function c(e){var n=e-w,o=e-k;return void 0===w||n>=t||n<0||_&&o>=y}function s(){var e=O();return c(e)?d(e):void(h=setTimeout(s,a(e)))}function d(e){return h=void 0,E&&b?o(e):(b=v=void 0,g)}function l(){void 0!==h&&clearTimeout(h),k=0,b=w=v=h=void 0}function p(){return void 0===h?g:d(O())}function m(){var e=O(),n=c(e);if(b=arguments,v=this,w=e,n){if(void 0===h)return r(w);if(_)return h=setTimeout(s,t),o(w)}return void 0===h&&(h=setTimeout(s,t)),g}var b,v,y,g,h,w,k=0,S=!1,_=!1,E=!0;if(\"function\"!=typeof e)throw new TypeError(f);return t=u(t)||0,i(n)&&(S=!!n.leading,_=\"maxWait\"in n,y=_?x(u(n.maxWait)||0,t):y,E=\"trailing\"in n?!!n.trailing:E),m.cancel=l,m.flush=p,m}function o(e,t,o){var r=!0,a=!0;if(\"function\"!=typeof e)throw new TypeError(f);return i(o)&&(r=\"leading\"in o?!!o.leading:r,a=\"trailing\"in o?!!o.trailing:a),n(e,t,{leading:r,maxWait:t,trailing:a})}function i(e){var t=\"undefined\"==typeof e?\"undefined\":c(e);return!!e&&(\"object\"==t||\"function\"==t)}function r(e){return!!e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":c(e))}function a(e){return\"symbol\"==(\"undefined\"==typeof e?\"undefined\":c(e))||r(e)&&k.call(e)==d}function u(e){if(\"number\"==typeof e)return e;if(a(e))return s;if(i(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(l,\"\");var n=m.test(e);return n||b.test(e)?v(e.slice(2),n?2:8):p.test(e)?s:+e}var c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},f=\"Expected a function\",s=NaN,d=\"[object Symbol]\",l=/^\\s+|\\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,b=/^0o[0-7]+$/i,v=parseInt,y=\"object\"==(\"undefined\"==typeof t?\"undefined\":c(t))&&t&&t.Object===Object&&t,g=\"object\"==(\"undefined\"==typeof self?\"undefined\":c(self))&&self&&self.Object===Object&&self,h=y||g||Function(\"return this\")(),w=Object.prototype,k=w.toString,x=Math.max,j=Math.min,O=function(){return h.Date.now()};e.exports=o}).call(t,function(){return this}())},function(e,t){(function(t){\"use strict\";function n(e,t,n){function i(t){var n=b,o=v;return b=v=void 0,O=t,g=e.apply(o,n)}function r(e){return O=e,h=setTimeout(s,t),S?i(e):g}function u(e){var n=e-w,o=e-O,i=t-n;return _?x(i,y-o):i}function f(e){var n=e-w,o=e-O;return void 0===w||n>=t||n<0||_&&o>=y}function s(){var e=j();return f(e)?d(e):void(h=setTimeout(s,u(e)))}function d(e){return h=void 0,E&&b?i(e):(b=v=void 0,g)}function l(){void 0!==h&&clearTimeout(h),O=0,b=w=v=h=void 0}function p(){return void 0===h?g:d(j())}function m(){var e=j(),n=f(e);if(b=arguments,v=this,w=e,n){if(void 0===h)return r(w);if(_)return h=setTimeout(s,t),i(w)}return void 0===h&&(h=setTimeout(s,t)),g}var b,v,y,g,h,w,O=0,S=!1,_=!1,E=!0;if(\"function\"!=typeof e)throw new TypeError(c);return t=a(t)||0,o(n)&&(S=!!n.leading,_=\"maxWait\"in n,y=_?k(a(n.maxWait)||0,t):y,E=\"trailing\"in n?!!n.trailing:E),m.cancel=l,m.flush=p,m}function o(e){var t=\"undefined\"==typeof e?\"undefined\":u(e);return!!e&&(\"object\"==t||\"function\"==t)}function i(e){return!!e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":u(e))}function r(e){return\"symbol\"==(\"undefined\"==typeof e?\"undefined\":u(e))||i(e)&&w.call(e)==s}function a(e){if(\"number\"==typeof e)return e;if(r(e))return f;if(o(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(d,\"\");var n=p.test(e);return n||m.test(e)?b(e.slice(2),n?2:8):l.test(e)?f:+e}var u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},c=\"Expected a function\",f=NaN,s=\"[object Symbol]\",d=/^\\s+|\\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,b=parseInt,v=\"object\"==(\"undefined\"==typeof t?\"undefined\":u(t))&&t&&t.Object===Object&&t,y=\"object\"==(\"undefined\"==typeof self?\"undefined\":u(self))&&self&&self.Object===Object&&self,g=v||y||Function(\"return this\")(),h=Object.prototype,w=h.toString,k=Math.max,x=Math.min,j=function(){return g.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){\"use strict\";function n(e,t){a.push({selector:e,fn:t}),!u&&r&&(u=new r(o),u.observe(i.documentElement,{childList:!0,subtree:!0,removedNodes:!0})),o()}function o(){for(var e,t,n=0,o=a.length;n<o;n++){e=a[n],t=i.querySelectorAll(e.selector);for(var r,u=0,c=t.length;u<c;u++)r=t[u],r.ready||(r.ready=!0,e.fn.call(r,r))}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=window.document,r=window.MutationObserver||window.WebKitMutationObserver,a=[],u=void 0;t.default=n},function(e,t){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(){return navigator.userAgent||navigator.vendor||window.opera||\"\"}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,u=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,f=function(){function e(){n(this,e)}return i(e,[{key:\"phone\",value:function(){var e=o();return!(!r.test(e)&&!a.test(e.substr(0,4)))}},{key:\"mobile\",value:function(){var e=o();return!(!u.test(e)&&!c.test(e.substr(0,4)))}},{key:\"tablet\",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new f},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e,t,n){var o=e.node.getAttribute(\"data-aos-once\");t>e.position?e.node.classList.add(\"aos-animate\"):\"undefined\"!=typeof o&&(\"false\"===o||!n&&\"true\"!==o)&&e.node.classList.remove(\"aos-animate\")},o=function(e,t){var o=window.pageYOffset,i=window.innerHeight;e.forEach(function(e,r){n(e,i+o,t)})};t.default=o},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(12),r=o(i),a=function(e,t){return e.forEach(function(e,n){e.node.classList.add(\"aos-init\"),e.position=(0,r.default)(e.node,t.offset)}),e};t.default=a},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(13),r=o(i),a=function(e,t){var n=0,o=0,i=window.innerHeight,a={offset:e.getAttribute(\"data-aos-offset\"),anchor:e.getAttribute(\"data-aos-anchor\"),anchorPlacement:e.getAttribute(\"data-aos-anchor-placement\")};switch(a.offset&&!isNaN(a.offset)&&(o=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,r.default)(e).top,a.anchorPlacement){case\"top-bottom\":break;case\"center-bottom\":n+=e.offsetHeight/2;break;case\"bottom-bottom\":n+=e.offsetHeight;break;case\"top-center\":n+=i/2;break;case\"bottom-center\":n+=i/2+e.offsetHeight;break;case\"center-center\":n+=i/2+e.offsetHeight/2;break;case\"top-top\":n+=i;break;case\"bottom-top\":n+=e.offsetHeight+i;break;case\"center-top\":n+=e.offsetHeight/2+i}return a.anchorPlacement||a.offset||isNaN(t)||(o=t),n+o};t.default=a},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-(\"BODY\"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-(\"BODY\"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){e=e||document.querySelectorAll(\"[data-aos]\");var t=[];return[].forEach.call(e,function(e,n){t.push({node:e})}),t};t.default=n}])});","let calender = module.exports = {\r\n\r\n  load: (element) => {\r\n\r\n\troot.calender = element;\r\n\r\n    var a = moment('2016-01-01'); \r\n    var b = a.add(1, 'week'); \r\n    a.format();\r\n\r\n    console.log(a);\r\n\r\n  },\r\n\r\n};","let editor = module.exports = {\r\n\r\n  course: null,\r\n\r\n  ticket: null,\r\n\r\n  load_button_primary: ()=>{},\r\n\r\n  load_button_secondary: ()=>{},\r\n\r\n  load_overlay: ()=>{},\r\n\r\n  load_background: ()=>{},\r\n\r\n  toggle_publish: (element) => {\r\n\r\n    editor.course.published_at = editor.course.published_at ? '' : new Date();\r\n\r\n    editor.update(element);\r\n\r\n  },\r\n\r\n  load_course: (element)=>{\r\n\r\n    let key = history.state.course,\r\n        course = root.courses.memory[key],\r\n        colors = ['7ac673','1abc9c','27aae0','2c82c9','9365b8','4c6972','ffffff','41a85f','00a885','3d8eb9',\r\n                  '2969b0','553982','475577','efefef','f7da64','faaf40','eb6b56','e25041','a38f84','28324e',\r\n                  'cccccc','fac51c','f97352','d14841','b8312f','7c706b','000000','c1c1c1'];\r\n\r\n\r\n    if(editor.ticket) root.main.classList.add('ticket-mode');\r\n    \r\n    editor.looping = Math.random();\r\n\r\n    editor.tooltip(editor.looping);\r\n\r\n    editor.course = course;\r\n\r\n    editor.element = element;\r\n\r\n    element.dataset.published = course.published_at ? 'yes' : 'no';\r\n\r\n    element.dataset.device = 'desktop';\r\n\r\n    if (!course.blocks) course.blocks = [];\r\n\r\n    element.innerHTML = course.blocks.reduce((html,block,index)=>{\r\n\r\n      let options = Object.keys(block.options).reduce((html,option)=>`${html} data-${option}=\"${block.options[option].value}\"`, '');\r\n\r\n      return `${html}<div class=\"block\" ${options} data-key=\"${block.key}\" data-index=\"${index}\">\r\n        ${block.html}\r\n        <div class=\"block-tooltip\" data-index=\"${index}\" data-load=\"editor.load_tooltip\">\r\n          <div class=\"inner\">\r\n           <div class=\"color-picker\">${\r\n             colors.map((c)=>`<b style=\"background-color:#${ c };\"></b>`).join('')\r\n           }</div>\r\n           <div class=\"set-link\"><button>set link</button></div>\r\n           <i data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"link\" class=\"fa fa-link\"></i>\r\n           <span data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"color\" class=\"color\"><i class=\"fa fa-paint-brush\"></i></span>\r\n           <i data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"align\" class=\"fa fa-align-left\"></i>\r\n           <i data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"add\" class=\"fa fa-plus\"></i>\r\n           <i data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"delete\" class=\"fa fa-trash\"></i>\r\n          </div>\r\n        </div>\r\n        <div class=\"block-options\">\r\n          <a data-index=\"${ index }\" data-action=\"move-up\" data-load=\"labels.title_move_up\" data-click=\"editor.update\" class=\"control-btn fa fa-arrow-up\"></a>\r\n          <a data-index=\"${ index }\" data-action=\"move-down\" data-load=\"labels.title_move_down\" data-click=\"editor.update\" class=\"control-btn fa fa-arrow-down\"></a>\r\n          <a data-load=\"labels.title_options\" class=\"control-btn fa fa-cog\"></a>\r\n          <div class=\"block-config\">${Object.keys(block.options).reduce((html,option,id)=>{\r\n\r\n        let element = `<label for=\"input-${id}\" data-load=\"labels.${option}\"></label><br>`;\r\n\r\n        if (block.options[option].type == 'boolean') element = `<input data-option=\"${ option }\" data-index=\"${ index }\" data-change=\"editor.input_save\" ${block.options[option].value ? 'checked' : ''} id=\"input-${id}\" type=\"checkbox\">${element}`;\r\n\r\n        return `${html}${element}`;\r\n\r\n      }\r\n      , '')}</div>\r\n          <a data-action=\"delete\" data-index=\"${ index }\" data-load=\"labels.title_delete\" data-click=\"editor.update\" class=\"control-btn fa fa-trash\"></a>\r\n        </div>\r\n      </div>`;\r\n\r\n    }\r\n    , `\r\n      <div class=\"control-editor\">\r\n        <a data-load=\"labels.title_save\" data-click=\"editor.update\" class=\"control-btn fa fa-save\"></a>\r\n        <a data-load=\"labels.title_online\" data-click=\"editor.toggle_publish\" class=\"control-btn fa fa-cloud-upload\"></a>\r\n        <a data-load=\"labels.title_offline\" data-click=\"editor.toggle_publish\" class=\"control-btn fa fa-cloud-download\"></a>\r\n        <a data-load=\"labels.title_preview\" data-click=\"editor.preview\" class=\"control-btn fa fa-eye\"></a>\r\n        <a data-load=\"labels.title_mobile_view\" data-click=\"editor.toggle_view\" class=\"control-btn fa fa-mobile\"></a>\r\n        <a data-load=\"labels.title_desktop_view\" data-click=\"editor.toggle_view\" class=\"control-btn fa fa-desktop\"></a>\r\n        <div data-load=\"blocks.load\"></div>\r\n      </div>\r\n    `);\r\n\r\n  },\r\n\r\n  toggle_tooltip_submenu: (element) => {\r\n\r\n    let data = editor.focus.dataset,\r\n        index = parseInt(data.index, 10),\r\n        count = parseInt(data.count, 10),\r\n        options;\r\n\r\n    element.parentElement.dataset.tab = element.dataset.tab;\r\n\r\n    switch(element.dataset.tab) {\r\n\r\n      case 'add':\r\n\r\n        options = editor.course.blocks[index].options[data.element];\r\n\r\n        options.content.splice(count + 1, 0, '');\r\n\r\n        root.main.dataset.load = root.main.dataset.load;\r\n\r\n        break;\r\n\r\n      case 'delete':\r\n\r\n        options = editor.course.blocks[index].options[data.element];\r\n\r\n        if(options.content.length < 2) options.value = false;\r\n\r\n        else options.content.splice(count, 1);\r\nconsole.log(options)\r\n        root.main.dataset.load = root.main.dataset.load;\r\n\r\n        break;\r\n        \r\n    }\r\n    \r\n  },\r\n\r\n  tooltip_list: [],\r\n\r\n  load_tooltip: (element)=>{\r\n\r\n    editor.tooltip_list[parseInt(element.dataset.index, 10)] = element;\r\n\r\n  },\r\n\r\n  input_save: (element) => {\r\n\r\n    let block = editor.course.blocks[parseInt(element.dataset.index, 10)],\r\n        option = block.options[element.dataset.option];\r\n\r\n    if(option.type == 'boolean') option.value = !option.value;\r\n    \r\n    root.main.dataset.load = root.main.dataset.load;\r\n\r\n  },\r\n\r\n  tooltip: (iteration, block)=>{\r\n\r\n    if (history.state.page != 'edit' || editor.looping != iteration) return;\r\n\r\n    let focus = document.activeElement;\r\n\r\n    if (!focus || focus.tagName.toLowerCase() != 'textarea') {\r\n\r\n      setTimeout(editor.tooltip, 500, iteration);\r\n\r\n      return editor.tooltip_list.map(close);\r\n      \r\n    }\r\n\r\n    editor.focus = focus;\r\n\r\n    block = block || focus.parentElement;\r\n\r\n    if(!block.parentElement) return setTimeout(editor.tooltip, 500, iteration);\r\n\r\n    if(!block.classList.contains('block')) {\r\n\r\n      block = block.parentElement;\r\n\r\n      return editor.tooltip(iteration, block);\r\n\r\n    }\r\n   \r\n    setTimeout(editor.tooltip, 500, iteration);\r\n\r\n    let index = block.dataset.index;\r\n\r\n    if (typeof index == 'undefined') return editor.tooltip_list.map(close);\r\n      \r\n    editor.tooltip_list[index].style.bottom = `${ block.offsetHeight - focus.offsetTop }px`;\r\n\r\n    editor.tooltip_list[index].style.left = `${ focus.offsetLeft }px`;\r\n\r\n    editor.tooltip_list[index].querySelector('.block-tooltip .inner').dataset.tab = '';\r\n\r\n    let is_array = Array.isArray(editor.course.blocks[index].options[focus.dataset.element].content);\r\n\r\n    editor.tooltip_list[index].classList[is_array ? 'add' : 'remove']('is-array');\r\n\r\n    if (editor.tooltip_list[index].classList.contains('fade-in')) return;\r\n    \r\n    editor.tooltip_list.map(close);\r\n    \r\n    editor.tooltip_list[index].style.display = 'block';\r\n\r\n    requestAnimationFrame(()=>{\r\n\r\n      editor.tooltip_list[index].classList.add('fade-in');\r\n\r\n    });\r\n\r\n    function close(element){\r\n\r\n      element.style.display = 'none';\r\n\r\n      element.classList.remove('fade-in');\r\n\r\n    }\r\n\r\n  },\r\n\r\n  add_block: (key)=>{\r\n\r\n    let course = root.courses.memory[history.state.course]\r\n      , block = root.blocks.memory[key];\r\n\r\n    course.blocks = course.blocks || [];\r\n\r\n    let demo = [\r\n      { page: 'Introduction', tab: 'Part I', index: 0 },\r\n      { progress: 5 },\r\n      { tab: 'Part II', index: 2, progress: 5 },\r\n      { tab: 'Part III', index: 3, progress: 5 },\r\n      { page: 'Learning the basics', tab: 'Module A', index: 4, progress: 15 },\r\n      { progress: 15 },\r\n      { progress: 15 },\r\n      { tab: 'Module B', index: 7, progress: 10 },\r\n      { page: 'Questions', index: 8, progress: 10 },\r\n      { progress: 10 },\r\n      { progress: 10 },\r\n      { page: 'Conclusion', index: 11 }\r\n    ];\r\n\r\n    block = Object.assign(demo[course.blocks.length] || {}, block);\r\n\r\n    course.blocks.push(block);\r\n\r\n    block.options = Object.keys(block.options).reduce((options,key)=>{\r\n\r\n      options[key] = editor.set_option(block.options[key], key);\r\n\r\n      return options;\r\n\r\n    }\r\n    , {});\r\n\r\n    root.courses.updated = true;\r\n\r\n  },\r\n\r\n  scroll_trigger: (element) =>  {\r\n    \r\n  },\r\n\r\n  set_option: (config,property)=>{\r\n\r\n    config.property = property;\r\n\r\n    if (config.type == 'boolean') config.value = true;\r\n\r\n    if (config.type == 'number') config.value = 2;\r\n\r\n    return config;\r\n\r\n  },\r\n\r\n  load_element: (element, parent)=>{\r\n\r\n    parent = parent || element.parentElement;\r\n\r\n    if(!parent.classList.contains('block'))\r\n      return editor.load_element(element, parent.parentElement);\r\n\r\n    let index = parent.dataset.index;\r\n\r\n    if(typeof index == 'undefined') return element.dataset.load = `editor.load_${ key }`;\r\n\r\n    index = parseInt(index, 10);\r\n\r\n    let block = editor.course.blocks[index],\r\n        key = element.dataset.element;\r\n\r\n    element.dataset.input = 'editor.save';\r\n\r\n    element.addEventListener('mouseenter', ()=>{ element.focus(); });\r\n\r\n    if(!block.options[key]) return console.log(key, editor.course.key, index, block);\r\n\r\n    if(!block.options[key].value) return element.style.display = 'none';\r\n\r\n    if(!block.options[key].content) block.options[key].content = key;\r\n\r\n    if(element.tagName.toLowerCase() == 'textarea') {\r\n\r\n      element.value = block.options[key].content;\r\n\r\n      if(editor.ticket) element.disabled = true;\r\n\r\n    }\r\n\r\n    element.dataset.index = index;\r\n\r\n    element.dataset.load = `editor.load_${ key }`;\r\n\r\n  },\r\n\r\n  load_button_group: (element) => {\r\n\r\n    let index = parseInt(element.dataset.index, 10),\r\n        block = editor.course.blocks[index],\r\n        options = block.options[element.dataset.element];\r\n\r\n    element.innerHTML = options.content.map((string, count) => {\r\n      return `<textarea ${ editor.ticket ? 'disabled' : ''} data-input=\"editor.save\" data-count=\"${ count }\" data-element=\"button_group\" data-index=\"${ index }\">${ string }</textarea>`\r\n    }).join('');\r\n    \r\n  },\r\n\r\n  load_title: (element) => {\r\n\r\n  },\r\n\r\n  load_text: (element) => {\r\n\r\n  },\r\n\r\n  load_video: (element) => {\r\n  \r\n    let html = `\r\n      <img src=\"/placeholder-video.png\"><!--\r\n\r\n   --><input type=\"text\" data-load=\"labels.youtube_placeholder\"><!--\r\n\r\n   --><button data-click=\"editor.insert_video\"></button>\r\n\r\n      <div class=\"player\"></div>\r\n    `;\r\n  \r\n    element.innerHTML = html;\r\n\r\n  },\r\n\r\n  insert_video: (element) => {\r\n\r\n    let input = element.previousElementSibling,\r\n        container = element.nextElementSibling,\r\n        iframe = document.createElement(\"iframe\");\r\n\r\n    iframe.setAttribute(\"frameborder\", \"0\");\r\n    iframe.setAttribute(\"allowfullscreen\", \"\");\r\n    iframe.setAttribute(\"src\", `https://www.youtube.com/embed/${ input.value }`);    \r\n    container.innerHTML = '';\r\n    container.appendChild(iframe);\r\n\r\n  },\r\n\r\n  // only locally\r\n  save: (element)=>{\r\n\r\n    let index = parseInt(element.parentElement.dataset.index, 10),\r\n        block = editor.course.blocks[index];\r\n\r\n     if(typeof element.dataset.count == 'undefined') \r\n      return  block.options[element.dataset.element].content = element.value;\r\n\r\n     let count = parseInt(element.dataset.count, 10);\r\n\r\n     block.options[element.dataset.element].content[count] = element.value;\r\n\r\n  },\r\n\r\n  // updates course in server\r\n  update: (element)=>{\r\n\r\n    let index = parseInt(element.dataset.index, 10),\r\n        temp_index,\r\n        moved;\r\n\r\n    switch(element.dataset.action) {\r\n\r\n      case 'delete':\r\n        editor.course.blocks.splice(index, 1);\r\n        break;\r\n\r\n      case 'move-down':\r\n        if(index + 2 > editor.course.blocks.length) return;\r\n        moved = editor.course.blocks.splice(index, 2).reverse();\r\n        temp_index = moved[1].index;\r\n        moved[1].index = moved[0].index;\r\n        moved[0].index = temp_index;\r\n        editor.course.blocks.splice(index, 0, moved[0], moved[1]);\r\n        break;\r\n\r\n      case 'move-up':\r\n        if(index < 1) return;\r\n        moved = editor.course.blocks.splice(index - 1, 2).reverse();\r\n        temp_index = moved[1].index;\r\n        moved[1].index = moved[0].index;\r\n        moved[0].index = temp_index;\r\n        editor.course.blocks.splice(index - 1, 0, moved[0], moved[1]);\r\n        break;\r\n\r\n    }\r\n\r\n    editor.element.classList.add('saving');\r\n\r\n    root.send({\r\n      request: 'set_course',\r\n      set: editor.course\r\n    }, ()=>{\r\n\r\n      editor.element.classList.remove('saving');\r\n\r\n      root.main.dataset.load = root.main.dataset.load;\r\n\r\n    });\r\n\r\n  }\r\n\r\n};\r\n","const LANGS = ['nl', 'en'];\r\n\r\nlet index = LANGS.indexOf(localStorage.getItem('language'));\r\n\r\nif (index == -1) index = 0;\r\n\r\nlet labels = {\r\n    title_move_up: [title('Omhoog'), title('Move up')],\r\n    title_move_down: [title('Omlaag'), title('Move down')],\r\n    title_options: [title('Opties'), title('Options')],\r\n    title_delete: [title('Verwijder'), title('Delete')],\r\n    title_save: [title('Opslaan'), title('Save')],\r\n    title_online: [title('Online'), title('Online')],\r\n    title_offline: [title('Offline'), title('Offline')],\r\n    title_preview: [title('Preview'), title('Preview')],\r\n    title_mobile_view: [title('Mobile'), title('Mobile')],\r\n    title_desktop_view: [title('Desktop'), title('Desktop')],\r\n    delete: ['Verwijder', 'Delete'],\r\n    home: ['Home', 'Home'],\r\n    home_text: ['De enige echte privéstudio!', 'The only real private studio!'],\r\n    home_intake_button: ['Gratis intake', 'Free intake'],\r\n    home_nutrition: ['Voeding', 'Nutrition'],\r\n    home_nutrition_description: ['Lorem ipsum dolor sit amet, consectetur adipiscing elit.', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'],\r\n    home_training: ['Training', 'Training'],\r\n    home_training_description: ['Lorem ipsum dolor sit amet, consectetur adipiscing elit.', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'],\r\n    home_lifestyle: ['Lifestyle', 'Lifestyle'],\r\n    home_lifestyle_description: ['Lorem ipsum dolor sit amet, consectetur adipiscing elit.', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'],\r\n    home_share_page: ['Deel deze pagina', 'Share this page'],\r\n    home_joris_merel: ['Joris Boon en Merel Witkamp', 'Joris Boon and Merel Witkamp'],\r\n    home_joris_merel_description: [\"Mogen we ons even aan u voorstellen. Wij zijn Joris Boon en Merel Witkamp. We zijn beiden fanatieke sporttrainers waarbij we weten dat individuele training allereerst tot resultaat moet leiden bijvoorbeeld afvallen, vitaler of gewoon \\'je beter voelen\\'. Maar we weten ook dat training alleen vaak niet voldoende is. Vandaar dat we een uniek coachingprogramma hebben geïntroduceerd onder de noemer \\'Managers Vitality: for a work - life balance that boosts your management performance'. Het gaat dan om een programma om een betere werk - privé balans te vinden (ook in relatie tot fitness) alsmede omveel betere resultaten op het werk te behalen. Het focust zich op de '7th habit' van managementgoeroe Stephan Covey waar hij heeft over 'het scherp houden van de zaag'. Inmiddels hebben al vele managers zich voor dit programma ingeschreven.\", \"May we introduce ourselves to you, we are Joris Boon and Merel Witkamp We are both fanatical sports trainers where we know that individual training should lead to results first, for example losing weight, being more vital or just 'feeling better'. also that training alone is often not sufficient, which is why we have introduced a unique coaching program under the heading 'Managers Vitality: for a work - life balance that boosts your management performance' - a program for a better work - private life. To find a balance (also in relation to fitness) as well as to achieve much better results at work, it focuses on the '7th habit' of management guru Stephan Covey, who talks about 'keeping the saw sharp'. managers registered for this program.\"],\r\n    team_text: ['Mogen wij uw personal trainer of personal coach zijn?', 'Can we be your personal trainer or personal coach?'],\r\n    team_intro_1: [\"Joris Boon en Merel Witkamp, beiden met een jarenlange ervaring in de sportbranche, bundelen hun krachten om jou een training op maat te kunnen bieden. Joris Boon is een zeer ervaren trainer op het gebied van vechtsport en krachttraining. Met zijn 25 jaar ervaring als sportinstructeur weet hij deze technieken perfect toe te passen bij personal training. Merel Witkamp is thuis in de wereld van personal training, yoga en pilates. Daarnaast is ze gespecialiseerd in revalidatietraining en revalidatietraining voor ex-kankerpatiënten.\", \"Joris Boon and Merel Witkamp, both with years of experience in the sports industry, join forces to offer you a tailor-made training. Joris Boon is a very experienced trainer in the field of martial arts and strength training. With his 25 years of experience as a sports instructor he knows how to perfectly apply these techniques to personal training. Merel Witkamp is at home in the world of personal training, yoga and pilates. She is also specialized in rehabilitation training and rehabilitation training for ex-cancer patients.\"],\r\n    team_intro_2: [\"Afgelopen jaar besloten wij om samen een privéstudio te openen in een eigen luxe stijl. Een privéstudio waar je in alle rust ook echt privé traint! Jij alleen samen met een van ons. We willen jou door onze persoonlijke begeleiding helpen om op een snelle en effectieve wijze je doelen te verwezenlijken. Door het brede aanbod van krachttraining, conditietraining, revalidatietraining, bokstraining, yoga en pilates kunnen we jou de training bieden die op je lijf geschreven is. Durf jij nu de stap te nemen?\", \"Last year we decided to open a private studio together in our own luxury style. A private studio where you can practice private training in peace! You alone with one of us. We want to help you through our personal guidance to realize your goals in a fast and effective way. Through the wide range of strength training, fitness training, rehabilitation training, boxing training, yoga and pilates we can offer you the training that is right for you. Do you dare to take the step now?\"],\r\n    add: ['Toevoegen', 'Add'],\r\n    invite: ['Uitnodigen', 'Invite'],\r\n    team: ['Team', 'Team'],\r\n    sign_in: [value('Inloggen'), value('Sign in')],\r\n    sign_in_link: ['Inloggen', 'Sign in'],\r\n    sign_in_input: [value('Inloggen', value('Sign in'))],\r\n    sign_out: ['Uitloggen', 'Sign out'],\r\n    courses: ['Cursussen', 'Courses'],\r\n    invitations: ['Uitnodigingen', 'Invitations'],\r\n    stats: ['Statistieken', 'Statistics'],\r\n    confirm_delete: ['Bevestig verwijdering', 'Confirm deletion'],\r\n    no_results: [\r\n        title('Geen resultaten'),\r\n        title('No results')\r\n    ],\r\n    loading: [\r\n        title('Laden...'),\r\n        title('Loading...')\r\n    ],\r\n    archive: ['Archiveer', 'Archive'],\r\n    view: ['Bekijk', 'View'],\r\n    view_mode: ['VIEW MODE', 'VIEW MODE'],\r\n    search: ['ZOEKEN', 'SEARCH'],\r\n    managers: ['MANAGERS', 'MANAGERS'],\r\n    edit: ['Aanpassen', 'Edit'],\r\n    stats_short: ['Stats', 'Stats'],\r\n    copy: ['Kopi&#xEB;ren', 'Copy'],\r\n    viewed: ['Bekeken:', 'Viewed:'],\r\n    published: ['Gepubliceerd', 'Published'],\r\n    unpublished: ['Niet Gepubliceerd', 'Unpublished'],\r\n    login_password: ['WACHTWOORD', 'PASSWORD'],\r\n    edit_password: ['WACHTWOORD WIJZIGEN', 'CHANGE PASSWORD'],\r\n    old_password: [placeholder('oud wachtwoord'), placeholder('old password')],\r\n    new_password: [placeholder('nieuw wachtwoord'), placeholder('new password')],\r\n    placeholder_search: [placeholder('Zoeken'), placeholder('Search')],\r\n    save_profile: [value('Sla profiel op'), value('Save profile')],\r\n    clients: ['Klanten', 'Clients'],\r\n    app_settings: ['App instellingen', 'App settings'],\r\n    name: [placeholder('Naam'), placeholder('Name')],\r\n    password: [placeholder('Wachtwoord'), placeholder('Password')],\r\n    send_invite: ['Verstuur uitnodiging', 'Send invite'],\r\n    events: ['Evenementen', 'Events'],\r\n    title: ['Show Title', 'Show Title'],\r\n    text: ['Show Text', 'Show Text'],\r\n    button_primary: ['Show Primary Button', 'Show Primary Button'],\r\n    button_secondary: ['Show Secondary Button', 'Show Secondary Button'],\r\n    buttons: ['Show Buttons', 'Show Buttons'],\r\n    button_group: ['Show Buttons', 'Show Buttons'],\r\n    arrow: ['Show Arrow', 'Show Arrow'],\r\n    content_align: ['Content Align', 'Content Align'],\r\n    background: ['Background', 'Background'],\r\n    parallax: ['Parallax', 'Parallax'],\r\n    background_color: ['Background Color', 'Background Color'],\r\n    background_video: ['Background Video', 'Background Video'],\r\n    overlay: ['Overlay', 'Overlay'],\r\n    services: ['Diensten', 'Services'],\r\n    contact_name: ['Naam', 'Name'],\r\n    contact_email: ['Email', 'Email'],\r\n    contact_message: ['Bericht', 'Message'],\r\n    send: ['Verstuur', 'Send'],\r\n    progress: ['Progressie', 'Progress'],\r\n    video: ['Video', 'Video'],\r\n    youtube_placeholder: [placeholder('mXq8SekC5Qg'), placeholder('mXq8SekC5Qg')],\r\n    points: ['Punten', 'Points']\r\n};\r\n\r\nfor (let n in labels) {\r\n\r\n    if (!labels.hasOwnProperty(n)) continue;\r\n\r\n    if (labels[n] == false) labels[n] = n;\r\n\r\n    else labels[n] = labels[n][index];\r\n\r\n}\r\n\r\nmodule.exports = labels;\r\n\r\nfunction placeholder(label) {\r\n\r\n    return (el) => el.setAttribute('placeholder', label);\r\n\r\n}\r\n\r\nfunction title(label) {\r\n\r\n    return (el) => el.setAttribute('data-title', label);\r\n\r\n}\r\n\r\nfunction value(label) {\r\n\r\n    return (el) => { el.value = label; };\r\n\r\n}","let modal = module.exports = {\r\n\r\n  load: (element) => {\r\n\r\n\troot.modal_element = element;\r\n\r\n  },\r\n\r\n  open: (element, load) => {\r\n\r\n\tlet modal = root.modal_element;\r\n\r\n\tif(modal.dataset.key) modal.dataset.key = element.dataset.key;\r\n\r\n\tif(!document.body.classList.contains('modal-open'))\r\n\t\troot.main.style.transform = `translateY(-${ window.scrollY || document.body.scrollTop }px)`;\r\n\r\n\tscroll(0,0);\r\n\r\n\tmodal.dataset.load = element.dataset.modal;\r\n\r\n\trequestAnimationFrame(()=>document.body.classList.add('modal-open'))\r\n\r\n  },\r\n\r\n  close: (element) => {\r\n\r\n\tlet scrolltop = parseInt(root.main.style.transform.replace('translateY(', ''), 10);\r\n\r\n\tdocument.body.classList.remove('modal-open');\r\n\r\n\troot.main.removeAttribute('style');\r\n\r\n\troot.modal_element.load = \"modal.empty\";\r\n\r\n\twindow.scroll(0, -1 * scrolltop);\r\n\r\n  },\r\n\r\n  empty: ''\r\n\r\n};","let prefill = module.exports = {\r\n\r\n  memory: {},\r\n\r\n  load: (element) => {\r\n\r\n    element.dataset.input = 'prefill.edit';\r\n\r\n    if(!element.dataset.key) return;\r\n\r\n    let key = element.dataset.key,\r\n        collection = key.split('_')[0],\r\n        item = root[collection].memory[key];\r\n\r\n    if(!item[element.dataset.property]) return;\r\n\r\n    let property_key = item[element.dataset.property],\r\n        property_collection = property_key.split('_')[0];\r\n\r\n    if(!root[property_collection]) return;\r\n\r\n    let property = root[property_collection].memory[property_key];\r\n\r\n    element.value = property.name;\r\n\r\n  },\r\n\r\n  select: (element) => {\r\n\r\n    let key = element.dataset.key,\r\n        collection = key.split('_')[0],\r\n        item = root[collection].memory[key];\r\n    \r\n    let input = element.parentElement.parentElement.querySelector('input');\r\n\r\n    input.value = item.name;\r\n\r\n    let input_collection = input.dataset.key.split('_')[0];\r\n\r\n    element.parentElement.innerHTML = '';\r\n\r\n    let request = {\r\n       request: 'edit',\r\n       key: input.dataset.key\r\n     };\r\n\r\n     request[input.dataset.property] = item.key;\r\n\r\n     root.send(request);\r\n\r\n  },\r\n\r\n  submit: (element) => {\r\n\r\n    let selection = element.querySelector('li');\r\n\r\n    if(selection) prefill.select(selection);\r\n\r\n  },\r\n\r\n  edit: function search(element, keys) {\r\n\r\n    let ul = element.parentElement.querySelector('ul');\r\n\r\n    if(!keys) ul.innerHTML = '';\r\n\r\n    keys = keys || Object.keys(root[element.dataset.collection].memory);\r\n\r\n    if(prefill.loop && prefill.loop > keys.length) return; // new loop started, this one stops\r\n\r\n    prefill.loop = keys.length - 1;\r\n\r\n    if(!keys.length || !element.value) return; // done looping\r\n\r\n    let key = keys.shift(),\r\n        collection = key.split('_')[0],\r\n        item = root[collection].memory[key];\r\n\r\n    if(String(item.name || '').toLowerCase().indexOf(String(element.value).toLowerCase()) == -1)\r\n      return search(element, keys);\r\n\r\n    requestAnimationFrame(()=>search(element, keys));\r\n\r\n    ul.innerHTML += `<li data-click=\"prefill.select\" data-key=\"${ item.key }\">${ item.name }</li>`\r\n\r\n  }\r\n\r\n};","let component = {\r\n    render: render,\r\n    uploads: {},\r\n    busy: false\r\n};\r\n\r\nmodule.exports = component;\r\n\r\nfunction render(elem) {\r\n\r\n    elem.addEventListener('dragover', hover);\r\n\r\n    elem.addEventListener('dragleave', hover);\r\n\r\n    elem.addEventListener('click', clicked);\r\n\r\n    elem.addEventListener('change', changed);\r\n\r\n    elem.innerHTML = `<input type=\"file\" multiple=\"multiple\"><div class=\"progress\"><span></span></div>`;\r\n\r\n}\r\n\r\nfunction clicked(e) {\r\n\r\n    if (e.target.dataset.action != 'select') return e;\r\n\r\n    e.stopPropagation();\r\n\r\n    find_elem(e).firstElementChild.click();\r\n\r\n}\r\n\r\nfunction hover(e) {\r\n\r\n    e.stopPropagation();\r\n\r\n    find_elem(e).classList[e.type == 'dragover' ? 'add' : 'remove']\r\n        ('input-hover');\r\n\r\n}\r\n\r\nfunction find_elem(e, elem) {\r\n\r\n    elem = elem || e.target;\r\n\r\n    if (!elem.parentElement) return;\r\n\r\n    if (elem.dataset.load) return elem;\r\n\r\n    return find_elem(e, elem.parentElement);\r\n\r\n}\r\n\r\nfunction changed(e) {\r\n\r\n    extract(e);\r\n\r\n    return e;\r\n\r\n}\r\n\r\nfunction extract(e) {\r\n\r\n    e.stopPropagation();\r\n        \r\n    let files = e.target.files,\r\n        elem = find_elem(e);\r\n        \r\n    for (let i = 0; i < files.length; i++) {\r\n\r\n        let img = new Image();\r\n\r\n        elem.appendChild(img);\r\n\r\n        img.onload = loaded;\r\n\r\n        img.src = URL.createObjectURL(files[i]);\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction loaded(e) {\r\n\r\n    let props = {\r\n        img: e.target,\r\n        width: e.target.clientWidth,\r\n        height: e.target.clientHeight,\r\n        ratio: e.target.clientWidth / e.target.clientHeight\r\n    };\r\n\r\n    upload(e, read(e, paint(e, scale(props))));\r\n\r\n}\r\n\r\nfunction scale(props) {\r\n\r\n    let w = props.width,\r\n        h = props.height,\r\n        r = props.ratio;\r\n\r\n    if (w < 800) {\r\n        props.height = Math.floor(800 / r);\r\n        props.width = 800;\r\n    }\r\n\r\n    if (h < 300) {\r\n        props.width = Math.floor(300 * r);\r\n        props.height = 300;\r\n    }\r\n\r\n    if (h > 1080) {\r\n        props.width = Math.floor(1080 * r);\r\n        props.height = 1080;\r\n    }\r\n\r\n    if (w > 1920) {\r\n        props.height = Math.floor(1920 / r);\r\n        props.width = 1920;\r\n    }\r\n\r\n    return props;\r\n\r\n}\r\n\r\nfunction paint(e, props) {\r\n\r\n    props.canvas = document.createElement('canvas');\r\n\r\n    let elem = find_elem(e);\r\n\r\n    props.elem = elem;\r\n\r\n    elem.appendChild(props.canvas);\r\n\r\n    props.canvas.width = props.width;\r\n\r\n    props.canvas.height = props.height;\r\n\r\n    props.canvas.getContext('2d').drawImage(\r\n        props.img,\r\n        0,\r\n        0,\r\n        props.width,\r\n        props.height\r\n    );\r\n\r\n    elem.removeChild(props.img);\r\n\r\n    return props;\r\n\r\n}\r\n\r\nfunction read(e, props) {\r\n\r\n    props.blob = new Blob([new Uint8Array(\r\n        [].map.call(\r\n            atob(props.canvas.toDataURL('image/jpeg').split(',')[1]),\r\n            (b, i, binary) => binary.charCodeAt(i)\r\n        )\r\n    )], { type: 'image/jpeg' });\r\n\r\n    props.canvas.parentElement.removeChild(props.canvas);\r\n\r\n    return props;\r\n\r\n}\r\n\r\nfunction upload(e, props) {\r\n\r\n    let elem = props.elem,\r\n        indicator = elem.querySelector('.progress'),\r\n        xhr = new XMLHttpRequest();\r\n\r\n    xhr.open('PUT', '/upload', true);\r\n\r\n    xhr.upload.addEventListener('progress', progress);\r\n\r\n    xhr.addEventListener('load', (e) => load(props, 0, e));\r\n\r\n    xhr.send(props.blob);\r\n\r\n    function load(props, count, e) {\r\n\r\n        if(!xhr.responseText) return;\r\n        \r\n        root.send({\r\n          request: `set_course`,\r\n          set: { key: elem.dataset.key, thumbnail: JSON.parse(xhr.responseText).url }\r\n        }, (res)=> {\r\n\r\n          let course = root.courses.memory[elem.dataset.key];\r\n          \r\n          elem.style.backgroundImage = `url(${ course.thumbnail })`;\r\n\r\n        });\r\n\r\n    }\r\n\r\n    function progress(e) {\r\n\r\n        component.uploads[props.url] = {\r\n            loaded: e.loaded,\r\n            total: e.total\r\n        };\r\n\r\n        let uploads = Object.keys(component.uploads);\r\n\r\n        if (!uploads.length) return setTimeout(() => {\r\n\r\n            indicator.style.display = 'none';\r\n\r\n        }, 500);\r\n\r\n        let aggregate = uploads.reduce((memo, url) => {\r\n\r\n            memo.total += component.uploads[url].total;\r\n\r\n            memo.loaded += component.uploads[url].loaded;\r\n\r\n            return memo;\r\n\r\n        }, { loaded: 1, total: 1 });\r\n\r\n        let percentage = Math.floor(100 * aggregate.loaded / aggregate.total);\r\n\r\n        indicator.innerHTML =\r\n            `<span style=\"width:${ percentage }%;\"></span>${ percentage }%`;\r\n\r\n        if (percentage != 100) {\r\n\r\n            component.busy = true;\r\n\r\n            indicator.style.display = 'block';\r\n\r\n        } else component.busy = false;\r\n\r\n    }\r\n\r\n}","let updates = [];\r\n\r\nmodule.exports = init;\r\n\r\nfunction init() {\r\n\r\n  bind();\r\n\r\n  document.documentElement.addEventListener('click', listener);\r\n\r\n  document.documentElement.addEventListener('change', listener);\r\n\r\n  document.documentElement.addEventListener('input', listener);\r\n\r\n  document.documentElement.addEventListener('submit', listener);\r\n\r\n}\r\n\r\nfunction listener(e, element) {\r\n\r\n  element = element || e.target;\r\n\r\n  if(e.type.toLowerCase() == 'submit') e.preventDefault();\r\n\r\n  if (!element.dataset || !element.dataset[e.type]) {\r\n\r\n    if(!element.parentElement) return;\r\n\r\n    return listener(e, element.parentElement);\r\n\r\n  }\r\n\r\n  let target = root;\r\n\r\n  for (let i = 0, parts = element.dataset[e.type].split('.'); i < parts.length; i++) {\r\n\r\n    if (!target) return console.error(element.dataset[e.type] || e.type, 'does not exist');\r\n\r\n    target = target[parts[i]];\r\n\r\n  }\r\n\r\n  if(typeof target == 'string') return element.innerHTML = target;\r\n  \r\n  if(typeof target != 'function') return console.error(element.dataset[e.type] || e.type, 'does not exist');\r\n\r\n  target(element);\r\n\r\n}\r\n\r\nfunction bind() {\r\n\r\n  (function loop(){\r\n\r\n    if(!updates.length) return requestAnimationFrame(loop);\r\n\r\n    let elements = updates.splice(0, updates.length);\r\n\r\n    for(let i = 0; i < elements.length; i++) {\r\n\r\n      [].map.call(elements[i].querySelectorAll('[data-bind], [data-load]'), bind_one);\r\n\r\n    }\r\n\r\n    requestAnimationFrame(loop);\r\n\r\n  }());\r\n\r\n  new MutationObserver(observer).observe(\r\n    document.documentElement,\r\n    {\r\n      attributes: true,\r\n      subtree: true,\r\n      childList: true,\r\n      characterData: true\r\n    }\r\n  );\r\n\r\n}\r\n\r\nfunction observer(mutations) {\r\n\r\n  for(let i = 0; i < mutations.length; i++) {\r\n\r\n    if(mutations[i].type == 'attributes') {\r\n\r\n       if(mutations[i].attributeName == 'data-load') load(mutations[i].target);\r\n\r\n       continue;\r\n\r\n    }\r\n\r\n    if(mutations[i].type != 'childList') return;\r\n\r\n    if(updates.indexOf(mutations[i].target) == -1) updates.push(mutations[i].target);\r\n\r\n  }\r\n\r\n}\r\n\r\nfunction bind_one(element) {\r\n\r\n  let d = element.dataset,\r\n      key = d.bind == 'me' ? root.config.user : d.bind,\r\n      collection;\r\n\r\n  if(d.load) return load(element);\r\n\r\n  if(!key) return collection.error(d);\r\n\r\n  collection = root[key.split('_').slice(0, -1).join('_')];\r\n\r\n  if (!collection || !collection.memory[key]) return console.error(key);\r\n\r\n  let prop = d.value || d.text || d.bg || d.html,\r\n      obj = collection.memory[key];\r\n\r\n  if(d.value) element.value = obj[d.value] || '';\r\n\r\n  if(d.html) element.innerHTML = obj[d.html] || '';\r\n\r\n  if(d.text) element.innerHTML = (obj[d.text] || '').replace(/(>|<)/g, escape);\r\n\r\n  if(d.bg) element.style.backgroundImage = `url(\"${ obj[d.bg] || '' }`;\r\n\r\n}\r\n\r\nfunction load(element) {\r\n\r\n  let target = root;\r\n\r\n  for (let i = 0, parts = element.dataset.load.split('.'); i < parts.length; i++) {\r\n\r\n    target = target[parts[i]];\r\n\r\n    if (typeof target == 'undefined') {\r\n\r\n      if(element.dataset.load.indexOf('.html') != -1) return load_file(element);\r\n\r\n      return console.error(element.dataset.load, 'does not exist');\r\n\r\n    }\r\n\r\n  }\r\n\r\n  if(element.dataset.load.substring(0, 11) == 'labels.user') {\r\n\r\n    let user = root.users.memory[root.config.user],\r\n        str = element.dataset.load;\r\n    \r\n    str = str.substring(12);\r\n\r\n    if(user && typeof(str) == 'string' && user[str]) return element.value = user[str];\r\n\r\n  }\r\n\r\n  if(typeof target == 'string') return element.innerHTML = target;\r\n\r\n  if(typeof target == 'function') return target(element);\r\n\r\n}\r\n\r\nfunction load_file(element) {\r\n\r\n  let xhr = new XMLHttpRequest();\r\n\r\n  xhr.open('GET', `/${ element.dataset.load }`, true);\r\n\r\n  xhr.onreadystatechange = function(e) {\r\n\r\n    if (this.readyState != 4 || this.status != 200) return;\r\n\r\n    root.templates = root.templates || {};\r\n\r\n    let target = root.templates;\r\n\r\n    for (let i = 0, parts = element.dataset.load.split('.'); i + 1 < parts.length; i++) {\r\n\r\n      if (!target) return;\r\n\r\n      target[parts[i]] = target[parts[i]] || {};\r\n\r\n      target = target[parts[i]];\r\n\r\n    }\r\n\r\n    element.innerHTML = target.html = this.responseText;\r\n\r\n  }\r\n\r\n  xhr.send();\r\n\r\n\r\n}\r\n\r\nfunction escape(match) {\r\n\r\n  return match == '>' ? '&gt;' : '&lt;';\r\n\r\n}","if (!Object.assign) {\r\n  Object.defineProperty(Object, 'assign', {\r\n    enumerable: false,\r\n    configurable: true,\r\n    writable: true,\r\n    value: function(target) {\r\n      'use strict';\r\n      if (target === undefined || target === null) {\r\n        throw new TypeError('Cannot convert first argument to object');\r\n      }\r\n\r\n      var to = Object(target);\r\n      for (var i = 1; i < arguments.length; i++) {\r\n        var nextSource = arguments[i];\r\n        if (nextSource === undefined || nextSource === null) {\r\n          continue;\r\n        }\r\n        nextSource = Object(nextSource);\r\n\r\n        var keysArray = Object.keys(Object(nextSource));\r\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n          var nextKey = keysArray[nextIndex];\r\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n          if (desc !== undefined && desc.enumerable) {\r\n            to[nextKey] = nextSource[nextKey];\r\n          }\r\n        }\r\n      }\r\n      return to;\r\n    }\r\n  });\r\n}\r\n\r\n(function () {\r\n\r\n  if (typeof window.Element === \"undefined\" || \"classList\" in document.documentElement) return;\r\n\r\n  var prototype = Array.prototype,\r\n      push = prototype.push,\r\n      splice = prototype.splice,\r\n      join = prototype.join;\r\n\r\n  function DOMTokenList(el) {\r\n    this.el = el;\r\n    // The className needs to be trimmed and split on whitespace\r\n    // to retrieve a list of classes.\r\n    var classes = el.className.replace(/^\\s+|\\s+$/g,'').split(/\\s+/);\r\n    for (var i = 0; i < classes.length; i++) {\r\n      push.call(this, classes[i]);\r\n    }\r\n  };\r\n\r\n  DOMTokenList.prototype = {\r\n    add: function(token) {\r\n      if(this.contains(token)) return;\r\n      push.call(this, token);\r\n      this.el.className = this.toString();\r\n    },\r\n    contains: function(token) {\r\n      return this.el.className.indexOf(token) != -1;\r\n    },\r\n    item: function(index) {\r\n      return this[index] || null;\r\n    },\r\n    remove: function(token) {\r\n      if (!this.contains(token)) return;\r\n      for (var i = 0; i < this.length; i++) {\r\n        if (this[i] == token) break;\r\n      }\r\n      splice.call(this, i, 1);\r\n      this.el.className = this.toString();\r\n    },\r\n    toString: function() {\r\n      return join.call(this, ' ');\r\n    },\r\n    toggle: function(token) {\r\n      if (!this.contains(token)) {\r\n        this.add(token);\r\n      } else {\r\n        this.remove(token);\r\n      }\r\n\r\n      return this.contains(token);\r\n    }\r\n  };\r\n\r\n  window.DOMTokenList = DOMTokenList;\r\n\r\n  function defineElementGetter (obj, prop, getter) {\r\n      if (Object.defineProperty) {\r\n          Object.defineProperty(obj, prop,{\r\n              get : getter\r\n          });\r\n      } else {\r\n          obj.__defineGetter__(prop, getter);\r\n      }\r\n  }\r\n\r\n  defineElementGetter(Element.prototype, 'classList', function () {\r\n    return new DOMTokenList(this);\r\n  });\r\n\r\n})();\r\n\r\n","require('./polyfill.js');\r\n\r\nwindow.AOS = require('./components/aos.js');\r\n\r\nconst DEV_MODE = true;\r\n\r\nwindow.root = {\r\n\r\n  config: init(),\r\n\r\n  incoming: incoming,\r\n  \r\n  templates: require('./collections/templates.js'),\r\n  \r\n  courses: require('./collections/courses.js'),\r\n  \r\n  blocks: require('./collections/blocks.js'),\r\n\r\n  sessions: require('./collections/sessions.js'),\r\n\r\n  labels: require('./components/labels.js'),\r\n  \r\n  modal: require('./components/modal.js'),\r\n\r\n  upload: require('./components/upload.js'),\r\n\r\n  editor: require('./components/editor.js'),\r\n  \r\n  prefill: require('./components/prefill.js'),\r\n\r\n  tickets: require('./collections/tickets.js'),\r\n\r\n  users: require('./collections/users.js')\r\n\r\n};\r\n\r\nfunction init(){\r\n\r\n  require('./listeners.js')();\r\n\r\n  requestAnimationFrame(()=> {\r\n\r\n\troot.sessions.load();\r\n\r\n\tcreate_websocket();\r\n\r\n  });\r\n\r\n  return {\r\n    user: '',\r\n    session: '',\r\n    error: error,\r\n    query: location.search.slice(1).split('&').reduce((memo, pair) => {\r\n\r\n\t  let p = pair.split('=');\r\n\r\n\t  memo[p[0]] = p[1];\r\n\r\n\t  return memo;\r\n\r\n\t}, {})\r\n  };\r\n\r\n}\r\n\r\nfunction create_websocket() {\r\n\r\n  let query = '',\r\n      callbacks = [];\r\n\r\n  for(let i in localStorage)\r\n    query += (query ? '&' : '?') + encodeURIComponent(i) + '=' +  encodeURIComponent(localStorage.getItem(i));\r\n\r\n  let ws = new WebSocket(DEV_MODE ?\r\n    `ws://localhost:443/${ query }` :\r\n    `wss://vitalityone.fearless-apps.com/${ query }`\r\n  );\r\n\r\n  ws.addEventListener('message', function listener(e){\r\n\r\n    incoming(JSON.parse(e.data), callbacks);\r\n\r\n    ws.removeEventListener('message', listener);\r\n\r\n    ws.addEventListener('message', (e) => incoming(JSON.parse(e.data), callbacks));\r\n\r\n  });\r\n\r\n  root.send = Send(ws, callbacks);\r\n\r\n}\r\n\r\nfunction error(element) {\r\n\r\n  if(element && element.dataset) return console.error(element.dataset.message);\r\n  \r\n  console.error(arguments);\r\n\r\n}\r\n\r\nfunction Send(ws, callbacks) {\r\n\r\n  return function send(data, callback) {\r\n\r\n    let cb = `cb_${ Math.floor(Math.random() * 10000) }`;\r\n\r\n    data.callback = cb;\r\n\r\n    if(callback) callbacks[cb] = callback;\r\n\r\n    ws.send(JSON.stringify(data));\r\n\r\n  };\r\n\r\n}\r\n\r\nfunction incoming(message, callbacks){\r\n\r\n  if(message instanceof Array) {\r\n\r\n  \tfor(let m in message) merge(message[m]);\r\n\r\n\treturn;\r\n\r\n  }\r\n\r\n  merge(message);\r\n  \r\n  if(message.error) notify(message);\r\n\r\n  if(message.redirect) location.href = message.redirect;\r\n\r\n  if(message.callback && callbacks[message.callback]) {\r\n\r\n  \tcallbacks[message.callback](message);\r\n\r\n  \tdelete callbacks[message.callback];\r\n  \t\r\n  }\r\n\r\n  if(typeof message.token == 'undefined') return;\r\n\r\n  root.me = Object.assign(root.me || {}, message);\r\n\r\n  document.body.classList[message.token ? 'add' : 'remove']('authenticated');\r\n\r\n  if(!message.token) root.sessions.url('/');\r\n\r\n  localStorage.setItem('authenticated', message.token || '');\r\n  \r\n  if(history.state.page == 'home') root.sessions.url('/courses');\r\n  \r\n  root.sessions.load_page(null, { prevent_url: true });\r\n\r\n}\r\n\r\nfunction notify(message) {\r\n\r\n  \tdocument.body.classList.add('notified');\r\n\r\n\tdocument.querySelector('#notification-message').innerHTML = message.error;\r\n\t\r\n}\r\n\r\nfunction merge(message){\r\n\r\n  if(!message.key) return;\r\n\r\n  let collection = message.key.split('_').slice(0, -1).join('_');\r\n\r\n  if(!root[collection]) return console.log(`collection <${ collection }> not found`);\r\n\r\n  if(!root[collection].memory[message.key]) {\r\n\r\n  \troot[collection].memory[message.key] = message;\r\n\r\n  \treturn root[collection].updated = true;\r\n\r\n  }\r\n  \r\n  root[collection].memory[message.key] = Object.assign(root[collection].memory[message.key] || {}, message);\r\n  \r\n}","/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n  if (window._ar) return;\n  window._ar = true;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    },\n\n    javascript: function(){\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function(script) { return script.text }).filter(function(text) { return text.length > 0 });\n      var srcScripts = scripts.filter(function(script) { return script.src });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          textScripts.forEach(function(script) { eval(script); });\n        }\n      }\n\n      srcScripts\n        .forEach(function(script) {\n          var src = script.src;\n          script.remove();\n          var newScript = document.createElement('script');\n          newScript.src = cacheBuster(src);\n          newScript.async = true;\n          newScript.onload = onLoad;\n          document.head.appendChild(newScript);\n        });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n"]}
=======
{"version":3,"sources":["source/scripts/collections/blocks.js","source/scripts/collections/courses.js","source/scripts/collections/sessions.js","source/scripts/collections/templates.js","source/scripts/collections/tickets.js","source/scripts/collections/users.js","source/scripts/components/aos.js","source/scripts/components/calender.js","source/scripts/components/editor.js","source/scripts/components/labels.js","source/scripts/components/modal.js","source/scripts/components/prefill.js","source/scripts/components/upload.js","source/scripts/listeners.js","source/scripts/polyfill.js","source/scripts/root.js","node_modules/auto-reload-brunch/vendor/auto-reload.js"],"names":["blocks","module","exports","memory","load","element","innerHTML","Object","keys","reduce","html","key","render_one","dataset","style","backgroundImage","addEventListener","e","drag_x","clientX","drag_y","clientY","drag_block","document","body","right","top","root","main","classList","setAttribute","contains","remove","editor","add_block","courses","add","send","request","load_courses","users","course","published_at","thumbnail","name","view_mode","mode","updated","save_search","search_query","String","value","toLowerCase","edit","options","v","property","callback","list","querySelector","history","state","load_course","labels","loading","render","iteration","Math","floor","random","length","children","no_results","message","search","shift","archived","indexOf","manager_filter","admin","requestAnimationFrame","elem","createElement","appendChild","archive","toggle_manager","filter","index","toggle","splice","push","load_managers","user","role","avatar","JSON","stringify","course_nav","focus","format","date","Date","months","getDate","getMonth","getFullYear","getHours","getMinutes","view","sessions","url","page","load_page","prevent_url","invite","stats","updater","setTimeout","default_page","public_pages","AOS","init","load_login","me","session","sign_in","email","parentElement","password","sign_out","check_passwords","inputs","querySelectorAll","alert","old_password","res","localStorage","getItem","forEach","c","window","scrollTo","modal","close","operation","replace","decode","location","pathname","title","encode","parts","split","i","language","load_calender","change_language","setItem","reload","highlight_lang","format_date","format_time","start","console","log","hide_notification","tickets","block","open_invite_block","ticket","toggle_course","load_clients","load_profile","load_profile_link","load_permissions","render_tasks","tasks","memo","task","load_permission","input","id","add_permission","archive_permission","parseInt","update_permission","checked","map","pop","update_task","users_admin","slice","update","toUpperCase","selectionStart","selectionEnd","save_email","load_email","t","define","amd","o","n","loaded","call","m","p","__esModule","default","assign","arguments","prototype","hasOwnProperty","r","a","u","f","s","d","l","b","y","g","h","w","k","x","all","atob","j","offset","delay","easing","duration","disable","once","startEvent","O","S","_","node","removeAttribute","E","mobile","phone","tablet","z","readyState","target","nodeType","hasAttribute","refresh","refreshHard","apply","clearTimeout","TypeError","leading","maxWait","trailing","cancel","flush","valueOf","test","Symbol","iterator","constructor","NaN","self","Function","toString","max","min","now","selector","fn","observe","documentElement","childList","subtree","removedNodes","ready","defineProperty","MutationObserver","WebKitMutationObserver","navigator","userAgent","vendor","opera","enumerable","configurable","writable","substr","getAttribute","position","pageYOffset","innerHeight","anchor","anchorPlacement","isNaN","offsetHeight","offsetLeft","offsetTop","tagName","scrollLeft","scrollTop","offsetParent","left","calender","moment","load_button_primary","load_button_secondary","load_overlay","load_background","toggle_publish","colors","looping","tooltip","published","device","option","join","type","toggle_tooltip_submenu","data","count","tab","content","tooltip_list","load_tooltip","input_save","activeElement","bottom","is_array","Array","isArray","display","demo","progress","set_option","scroll_trigger","config","load_element","parent","disabled","load_button_group","string","load_title","load_text","load_video","insert_video","previousElementSibling","container","nextElementSibling","iframe","save","temp_index","moved","action","reverse","set","LANGS","title_move_up","title_move_down","title_options","title_delete","title_save","title_online","title_offline","title_preview","title_mobile_view","title_desktop_view","delete","home","home_text","home_intake_button","home_nutrition","home_nutrition_description","home_training","home_training_description","home_lifestyle","home_lifestyle_description","home_share_page","home_joris_merel","home_joris_merel_description","team_text","team_intro_1","team_intro_2","team","sign_in_link","sign_in_input","invitations","confirm_delete","managers","stats_short","copy","viewed","unpublished","login_password","edit_password","placeholder","new_password","placeholder_search","save_profile","clients","app_settings","send_invite","events","text","button_primary","button_secondary","buttons","button_group","arrow","content_align","background","parallax","background_color","background_video","overlay","services","contact_name","contact_email","contact_message","video","youtube_placeholder","points","label","el","modal_element","open","transform","scrollY","scroll","scrolltop","empty","prefill","collection","item","property_key","property_collection","select","input_collection","submit","selection","ul","loop","component","uploads","busy","hover","clicked","changed","stopPropagation","find_elem","firstElementChild","click","extract","files","img","Image","onload","src","URL","createObjectURL","props","width","clientWidth","height","clientHeight","ratio","upload","read","paint","scale","canvas","getContext","drawImage","removeChild","blob","Blob","Uint8Array","toDataURL","binary","charCodeAt","indicator","xhr","XMLHttpRequest","responseText","parse","total","aggregate","percentage","updates","bind","listener","preventDefault","error","elements","bind_one","observer","attributes","characterData","mutations","attributeName","prop","bg","obj","escape","load_file","substring","str","onreadystatechange","status","templates","match","undefined","to","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","Element","DOMTokenList","classes","className","token","defineElementGetter","getter","get","__defineGetter__","require","DEV_MODE","incoming","create_websocket","query","pair","callbacks","encodeURIComponent","ws","WebSocket","removeEventListener","Send","cb","merge","notify","redirect","href","MozWebSocket","br","brunch","ar","_ar","cacheBuster","round","browser","forceRepaint","reloaders","stylesheet","link","val","javascript","scripts","textScripts","script","srcScripts","onLoad","eval","newScript","async","head","port","host","server","hostname","connect","connection","onmessage","event","reloader","onerror","onclose"],"mappings":"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","file":"dist/script.js","sourcesContent":["let blocks = module.exports = {\r\n\r\n  memory: [],\r\n\r\n  load: (element) => {\r\n\r\n    element.innerHTML = Object.keys(blocks.memory).reduce((html, key) => `${ html }\r\n      <div><a data-key=\"${ key }\" data-load=\"blocks.render_one\"></a></div>`, '');\r\n      \r\n  },\r\n\r\n  render_one: (element) => {\r\n\r\n    element.innerHTML = `${ element.dataset.key }`;\r\n\r\n    element.style.backgroundImage = `url(/${ element.dataset.key }.jpg)`;\r\n\r\n    element.addEventListener('mousedown', (e)=>{\r\n\r\n      blocks.drag_x = e.clientX;\r\n\r\n      blocks.drag_y = e.clientY;\r\n\r\n      blocks.drag_block = element;\r\n\r\n    });\r\n\r\n  }\r\n\r\n};\r\n\r\ndocument.body.addEventListener('mousemove', (e)=>{\r\n\r\n  if(!blocks.drag_block) return e;\r\n\r\n  blocks.drag_block.style.right = `${ blocks.drag_x - e.clientX }px`;\r\n\r\n  blocks.drag_block.style.top = `${ e.clientY - blocks.drag_y }px`;\r\n\r\n  root.main.classList[blocks.drag_x - e.clientX > 190 ? 'add' : 'remove']('dropzone');\r\n\r\n});\r\n\r\ndocument.body.addEventListener('mouseup', (e)=>{\r\n\r\n  if(!blocks.drag_block) return e;\r\n\r\n  let key = blocks.drag_block.dataset.key;\r\n\r\n  blocks.drag_block.setAttribute('style', `background-image:url(/${ key }.jpg);`);\r\n\r\n  blocks.drag_block = null;\r\n\r\n  if(!root.main.classList.contains('dropzone')) return e;\r\n\r\n  root.main.classList.remove('dropzone');\r\n\r\n  root.editor.add_block(key);\r\n\r\n});","let courses = module.exports = {\r\n\r\n  // here we save all courses in client memory\r\n  // { [key]: OBJECT }\r\n  memory: {},\r\n\r\n  // button is placed to the right of the title of the page\r\n  add: (element) => {\r\n\r\n    // root.send is used to talk to the server\r\n    root.send({ request: 'new_course' });\r\n\r\n  },\r\n\r\n  load_courses: (element) => {\r\n\r\n    let keys = Object.keys(root.users.memory),\r\n        html = '';\r\n\r\n    element.innerHTML = Object.keys(root.courses.memory).reduce((html, key) => {\r\n\r\n      let course = root.courses.memory[key];\r\n\r\n      if(course.published_at) html += `\r\n\r\n        <div data-key=\"${ course.key }\">\r\n          <img src=\"${ course.thumbnail }\">\r\n          <span>${ course.name }</span>\r\n        </div>\r\n\r\n      `;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  // view mode can be cards or list, it has a button in the left top of the interface\r\n  view_mode: (element) => {\r\n\r\n    courses.mode = element.dataset.mode;\r\n\r\n    // we put the mode also in the main, to support CSS styling\r\n    root.main.dataset.mode = element.dataset.mode;\r\n\r\n    // see update loop at the bottom of this file\r\n\tcourses.updated = true;\r\n    \r\n  },\r\n  \r\n  // anytime the user triggers the data-input of the search field, we execute this\r\n  save_search: (element) => {\r\n\r\n    // used inside of courses.render()\r\n\tcourses.search_query = String(element.value || '').toLowerCase();\r\n\r\n    // see update loop at the bottom of this file\r\n\tcourses.updated = true;\r\n\r\n  },\r\n\r\n  // goes off anytime course-related data-input is fired\r\n  edit: (element, options) => {\r\n\r\n    // we always need to provide a request string and the key of the object we are editing\r\n    let request = {\r\n       request: 'edit',\r\n       key: element.dataset.course\r\n     };\r\n\r\n     // but the value we are changing shall be added dynamically,\r\n     // so we can use this edit function straight from the HTML\r\n     // <input data-input=\"courses.edit\" data-key=\"[KEY]\">\r\n     let v = options ? options.value : element.value;\r\n\r\n     request[element.dataset.property] = v;\r\n\r\n     // options.callback can only be used when this function is fired manually in Javascript\r\n     // since we cannot write a function inside of the HTML tag\r\n     root.send(request, options ? options.callback : null);\r\n\r\n  },\r\n\r\n  list: (element) => {\r\n\r\n    // we are lazy developers that do not want to select the list over and over\r\n    // whenever we use this list function manually\r\n    if(!element) element = document.querySelector('[data-load=\"courses.list\"]');\r\n\r\n    // element still not found?! we must stop this madness\r\n    if(!element) return;\r\n\r\n    if(history.state.course) return courses.load_course(element);\r\n    \r\n    // we clean out the old HTML should this function be fired after the list already rendered\r\n    element.innerHTML = ``;\r\n\r\n    // we show a loading text\r\n    root.labels.loading(element);\r\n\r\n    // and start the render loop!\r\n    courses.render(element);\r\n\r\n  },\r\n\r\n  load_course: (element) => {\r\n\r\n    element.innerHTML = `<div data-load=\"courses.render_one\" data-course=\"${ history.state.course }\"></div>`;\r\n\r\n  },\r\n\r\n\r\n  render: (element, keys, iteration) => {\r\n\r\n    // maybe the user navigated away? Somehow the element is gone, RIP loop :'(\r\n    if(!element) return;\r\n\r\n    // we need to make sure we only run 1 loop at the same time\r\n    // every time render is called outside of its own loop, iteration will be undefined\r\n    // so we use this condition to also update the dataset of the element\r\n    // in order for the old loop to kill itself...\r\n    if(!iteration) iteration = element.dataset.iteration = 'i' + Math.floor(Math.random() * 1000);\r\n\r\n    // if it turns out this execution is an outdated iteration,\r\n    // the element has updated its dataset.iteration outside of this loop\r\n    // we have to bring this loop to the white shores\r\n    // I offer this line of comment in dedication to the loop whos life will be cut before the natural end\r\n    if(element.dataset.iteration != iteration) return;\r\n\r\n    // every time render is called outside of its own loop, keys will be undefined\r\n    if(!keys) keys = Object.keys(courses.memory);\r\n\r\n    // the loop has finished\r\n    if(!keys.length) {\r\n\r\n        // sadly, no children are found inside of the element\r\n        // this can only mean there were no results\r\n        if(!element.children.length) return root.labels.no_results(element);\r\n\r\n        // we had results, and are no longer loading, so lets clear that loading message\r\n        return element.dataset.message = '';\r\n\r\n    }\r\n\r\n    let search = courses.search_query, // search value is changed by courses.save_search()\r\n        course = courses.memory[keys.shift()];\r\n\r\n    if(!course || course.archived ||\r\n      (search && String(course.name).toLowerCase().indexOf(search) == -1) ||\r\n      (courses.manager_filter.length && courses.manager_filter.indexOf(course.admin) == -1)\r\n    ) {\r\n\r\n       if(keys.length % 100 == 0) return requestAnimationFrame(()=> {\r\n\r\n         courses.render(element, keys, iteration);\r\n\r\n       });\r\n\r\n       return courses.render(element, keys, iteration);\r\n\r\n     }\r\n\r\n     requestAnimationFrame(()=> {\r\n\r\n      courses.render(element, keys, iteration);\r\n\r\n    });\r\n\r\n    let elem = document.createElement('div');\r\n\r\n    elem.dataset.load = 'courses.render_one';\r\n\r\n    elem.dataset.course = course.key;\r\n\r\n    element.appendChild(elem);\r\n\r\n  },\r\n\r\n  archive: (element) => {\r\n\r\n    let course = courses.memory[element.dataset.key];\r\n\r\n    root.send({ request: 'archive', key: course.key }, () => {\r\n\r\n      // see update loop at the bottom of this file\r\n      courses.updated = true;\r\n      \r\n    });\r\n\r\n  },\r\n\r\n  manager_filter: [],\r\n\r\n  toggle_manager: (element) => {\r\n\r\n    let key = element.dataset.key,\r\n        filter = courses.manager_filter,\r\n        index = filter.indexOf(key);\r\n\r\n    element.classList.toggle('active');\r\n\r\n    if(index > -1) filter.splice(index, 1);\r\n\r\n    else filter.push(key);\r\n\r\n    courses.updated = true;\r\n\r\n  },\r\n\r\n  load_managers: (element) => {\r\n\r\n    element.innerHTML = Object.keys(root.users.memory).reduce((html, key) => {\r\n\r\n      let user = root.users.memory[key];\r\n\r\n      if(user.role == 'admin') html += `<div data-click=\"courses.toggle_manager\" data-key=\"${ user.key }\">\r\n        <img src=\"${ user.avatar }\">\r\n        <span data-load=\"users.memory.${ user.key }.name\"></span>\r\n      </div>`;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  render_one: (element) => {\r\n    \r\n    let course = courses.memory[element.dataset.course];\r\n\r\n    element.dataset.key = element.dataset.course;\r\n\r\n    element.innerHTML = courses.mode == 'lists' ? `\r\n      <input placeholder=\"Naam\" data-property=\"name\" data-course=\"${ course.key }\" data-input=\"courses.edit\" type=\"text\" value=\"${ course.name }\">\r\n      <pre>${ JSON.stringify(course, null, 2) }</pre>\r\n    ` : `\r\n      <div data-key=\"${ course.key }\" data-load=\"upload.render\" class=\"upload thumbnail\" style=\"background-image:url(${ course.thumbnail })\"></div>\r\n      ${ courses.course_nav(element) }\r\n      <img src=\"${ root.users.memory[course.admin].avatar }\">\r\n      <input data-load=\"labels.name\" data-property=\"name\" data-course=\"${ course.key }\" data-input=\"courses.edit\" type=\"text\" value=\"${ course.name }\">\r\n    `;\r\n\r\n    if(!course.name) element.querySelector('input').focus();\r\n\r\n    function format(date) {\r\n\r\n      date = new Date(date);\r\n\r\n      let months = ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december'];\r\n\r\n      if (!date || String(date).toLowerCase() == 'invalid date') return '';\r\n\r\n      return `\r\n        ${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}\r\n        ${ date.getHours() }:${ String(date.getMinutes()).length > 1 ? '' : 0 }${ date.getMinutes() }\r\n      `;\r\n\r\n    }\r\n\r\n  },\r\n\r\n  course_nav: (element) => {\r\n\r\n   let course = root.courses.memory[element.dataset.key];\r\n\r\n   return `<div class=\"course-nav\">\r\n        ${ course.published_at ? '<span class=\"published\">PUBLISHED</span>' : '<span class=\"unpublished\">UNPUBLISHED</span>' }<br>\r\n        <a data-key=\"${ element.dataset.key }\" data-click=\"courses.view\" data-load=\"labels.view\"></a>\r\n        <a data-key=\"${ element.dataset.key }\" data-click=\"modal.open\" data-modal=\"courses.invite\" data-load=\"labels.invite\"></a>\r\n        <a data-key=\"${ element.dataset.key }\" data-click=\"modal.open\" data-modal=\"courses.stats\" data-load=\"labels.stats_short\"></a>\r\n        <a data-key=\"${ element.dataset.key }\" data-click=\"modal.open\" data-modal=\"courses.delete\" data-load=\"labels.delete\"></a>\r\n      </div>`;\r\n      \r\n  },\r\n\r\n  view: (element) => {\r\n\r\n    root.sessions.url({ page: 'edit', course: element.dataset.key });\r\n\r\n    root.sessions.load_page(null, { prevent_url: true });\r\n\r\n  },\r\n\r\n\r\n  invite: (element) => {\r\n\r\n    let course = root.courses.memory[element.dataset.key];\r\n\r\n    element.innerHTML = `<div class=\"modal\">\r\n      <i class=\"fa fa-times close-modal\" data-click=\"modal.close\"></i>\r\n      <div class=\"content\">\r\n        <div class=\"thumbnail\" style=\"background-image:url(${ course.thumbnail })\"></div>\r\n        <h3 data-load=\"labels.invite\"></h3>\r\n        ${ courses.course_nav(element) }\r\n        <input placeholder=\"Naam\" data-property=\"name\" data-course=\"${ course.key }\" data-input=\"courses.edit\" type=\"text\" value=\"${ course.name }\">\r\n        <span data-load=\"users.memory.${ course.admin }.name\"></span>\r\n      </div>\r\n    </div>`;\r\n\r\n  },\r\n  \r\n  stats: (element) => {\r\n    \r\n    let course = root.courses.memory[element.dataset.key];\r\n\r\n    element.innerHTML = `<div class=\"modal\">\r\n      <i class=\"fa fa-times close-modal\" data-click=\"modal.close\"></i>\r\n      <div class=\"content\">\r\n        <div class=\"thumbnail\" style=\"background-image:url(${ course.thumbnail })\"></div>\r\n        <h3 data-load=\"labels.stats\"></h3>\r\n        ${ courses.course_nav(element) }\r\n        <input placeholder=\"Naam\" data-property=\"name\" data-course=\"${ course.key }\" data-input=\"courses.edit\" type=\"text\" value=\"${ course.name }\">\r\n        <span data-load=\"users.memory.${ course.admin }.name\"></span>\r\n      </div>\r\n    </div>`;\r\n    \r\n  }\r\n  \r\n};\r\n\r\n(function updater(){\r\n\r\n  if(!courses.updated) return setTimeout(updater, 300);\r\n\r\n  courses.updated = false;\r\n\r\n  if(root.main.dataset.load == 'edit.html') root.main.dataset.load = 'edit.html'; // this correctly triggers the mutationobserver in listeners.js\r\n\r\n  else courses.list();\r\n\r\n  updater();\r\n\r\n}());","let sessions = module.exports = {\r\n\r\n  default_page: 'home',\r\n\r\n  public_pages: ['home', 'courses', 'login', 'about', 'team', 'services', 'contact'],\r\n\r\n  memory: {},\r\n  \r\n  load: function load(){\r\n\r\n    root.main = document.querySelector('main');\r\n\r\n    if(!root.main) return setTimeout(load, 0);\r\n\r\n    AOS.init();\r\n    \r\n    sessions.url(null, { prevent_url: true });\r\n\r\n  },\r\n\r\n  load_login: (element) => {\r\n\r\n    if(!root.me || !root.me.session) return;\r\n\r\n    sessions.url('/courses');\r\n\r\n    sessions.load_page(null, { prevent_url: true });\r\n\r\n  },\r\n\r\n  sign_in: (element) => {\r\n\r\n    root.send({\r\n      request: 'sign_in',\r\n      email: element.parentElement.querySelector('[type=\"email\"]').value || '',\r\n      password: element.parentElement.querySelector('[type=\"password\"]').value || '',\r\n    }, () => {\r\n\r\n      sessions.url('/courses');\r\n\r\n      sessions.load_page(null, { prevent_url: true });\r\n\r\n    });\r\n  \t\r\n  },\r\n\r\n  sign_out: (element) => {\r\n\r\n    root.send({ request: 'sign_out' });\r\n\r\n  },\r\n\r\n  check_passwords: (element) => {\r\n\r\n    let inputs = root.main.querySelectorAll('input[type=\"password\"]');\r\n\r\n    if(inputs[0].value != inputs[1].value) return alert('not equal');\r\n\r\n    root.send({\r\n      request: 'set_password',\r\n      old_password: inputs[0].value,\r\n      password: inputs[2].value || ''\r\n    }, (res) => {\r\n\r\n   \r\n\r\n    });\r\n\r\n  },\r\n\r\n  load_page: (elem, options) => {\r\n\r\n    if(!root.main) return setTimeout(root.main, 0, elem, options);\r\n\r\n    let page = elem ? elem.dataset.page : history.state ? history.state.page : 'home';\r\n\r\n    if(!localStorage.getItem('authenticated') && sessions.public_pages.indexOf(page) == -1) {\r\n      page = 'home';\r\n    }\r\n\r\n    document.body.classList.forEach((c) => {\r\n\r\n      if(c.indexOf('-page') == -1) return;\r\n\r\n      document.body.classList.remove(c);\r\n\r\n    });\r\n\r\n    document.body.classList.remove('notified');\r\n\r\n    document.body.classList.add(page + '-page');\r\n    \r\n    root.main.dataset.load = page + '.html';\r\n\r\n    if(!options || !options.prevent_url) sessions.url('/' + page);\r\n\r\n    window.scrollTo(0, 0);\r\n\r\n    root.modal.close();\r\n\r\n  },\r\n\r\n  url: (state, options) => {\r\n\r\n    let operation = options && options.replace ? 'replaceState' : 'pushState';\r\n\r\n    let url = typeof state == 'string' ? decode() : location.pathname;\r\n\r\n    return history[operation](state ? state : decode(), options ? options.title : document.title, state ? encode() : pathname);\r\n\r\n    function encode() {\r\n\r\n      let page = state ? state.page || sessions.default_page : sessions.default_page;\r\n\r\n      return Object.keys(state).reduce((url,key)=>{\r\n\r\n        if (key == 'page') return url;\r\n\r\n        return `${url}/${key}/${ state[key] }`;\r\n\r\n      }\r\n      , `/${ page == sessions.default_page ? '' : page }`);\r\n\r\n    }\r\n\r\n    function decode() {\r\n\r\n      let parts = (state || location.pathname).split(/\\//g);\r\n\r\n      state = {};\r\n\r\n      for (let i = 0; i < parts.length; i += 2) {\r\n\r\n        state[parts[i] || 'page'] = parts[i + 1];\r\n\r\n      }\r\n\r\n      state.page = state.page || sessions.default_page;\r\n      \r\n      return state;\r\n\r\n    }\r\n\r\n  }\r\n\r\n};","module.exports = {\r\n\r\n  load_courses: (element) => {\r\n\r\n\tlet html = '',\r\n\t\tkeys = Object.keys(root.courses.memory);\r\n\r\n\tfor(var i = 0; i < keys.length; i++) {\r\n\t\r\n\t\tlet course = root.courses.memory[keys[i]];\r\n\r\n\t\tif(!course.published_at) continue;\r\n\r\n\t\thtml += `\r\n\t\t\t<div class=\"invite-course\" data-key=\"${ keys[i] }\">\r\n\r\n\t\t\t\t<div class=\"thumbnail-container\"><img src=\"${ course.thumbnail }\"></div>\r\n\r\n\t\t\t\t<span>${ course.name }</span>\r\n\r\n\t\t\t\t<small class=\"lang ${ course.language }\"></small>\r\n\r\n\t\t\t</div>\r\n\t\t`;\r\n\r\n\t};\r\n\r\n\telement.innerHTML = html;\r\n\r\n  },\r\n\r\n  load_calender: (element) => {\r\n\r\n\telement.innerHTML = `\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t`;\r\n\r\n  },\r\n\r\n  change_language: (element) => {\r\n\r\n\tlocalStorage.setItem('language', element.dataset.language);\r\n\r\n\tlocation.reload();\r\n\r\n  },\r\n\r\n  highlight_lang: (element) => {\r\n\r\n  \tif(!element.classList.contains(localStorage.getItem('language') || 'nl')) return;\r\n\r\n  \telement.classList.add('active');\r\n  \t\r\n  },\r\n\r\n  format_date: (element) => {\r\n\r\n  \tlet date = new Date(element.dataset.date),\r\n\t\tmonths = ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december'];\r\n\r\n\tif (!date || String(date).toLowerCase() == 'invalid date') return;\r\n\r\n\telement.innerHTML = `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;\r\n\r\n  },\r\n\r\n  format_time: (element) => {\r\n\r\n  \tlet date = new Date(element.dataset.date);\r\n\r\n\tif (!date || String(date).toLowerCase() == 'invalid date') return;\r\n\r\n  \telement.innerHTML = `${ date.getHours() }:${ String(date.getMinutes()).length > 1 ? '' : 0 }${ date.getMinutes() }`;\r\n\r\n  },\r\n\r\n  start: (element) => {\r\n\r\n\tconsole.log('e', element);\r\n  \t\r\n  },\r\n\r\n  hide_notification: (element) => {\r\n  \t\r\n  \tdocument.querySelector('body').classList.remove('notified');\r\n\r\n  }\r\n\r\n};","let tickets = module.exports = {\r\n\r\n  // here we save all tickets in client memory\r\n  // { [key]: OBJECT }\r\n  memory: {},\r\n\r\n  change_language: (element) => {\r\n\r\n    let block = document.querySelector('#invite-block');\r\n\r\n    block.dataset.language = element.dataset.language;\r\n\r\n  },\r\n\r\n  open_invite_block: (element) => {\r\n\r\n    let block = document.querySelector('#invite-block');\r\n\r\n    block.classList.toggle('open');\r\n\r\n  },\r\n\r\n  // button is placed to the right of the title of the page\r\n  add: (element) => {\r\n\r\n    // root.send is used to talk to the server\r\n    root.send({ request: 'new_ticket' });\r\n\r\n  },\r\n\r\n  // anytime the user triggers the data-input of the search field, we execute this\r\n  save_search: (element) => {\r\n\r\n    // used inside of tickets.render()\r\n\ttickets.search_query = String(element.value || '').toLowerCase();\r\n\r\n    // see update loop at the bottom of this file\r\n\ttickets.updated = true;\r\n\r\n  },\r\n\r\n  // goes off anytime ticket-related data-input is fired\r\n  edit: (element, options) => {\r\n\r\n    // we always need to provide a request string and the key of the object we are editing\r\n    let request = {\r\n       request: 'edit',\r\n       key: element.dataset.ticket\r\n     };\r\n\r\n     // but the value we are changing shall be added dynamically,\r\n     // so we can use this edit function straight from the HTML\r\n     // <input data-input=\"tickets.edit\" data-key=\"[KEY]\">\r\n     let v = options ? options.value : element.value;\r\n\r\n     request[element.dataset.property] = v;\r\n\r\n     // options.callback can only be used when this function is fired manually in Javascript\r\n     // since we cannot write a function inside of the HTML tag\r\n     root.send(request, options ? options.callback : null);\r\n\r\n  },\r\n\r\n  list: (element) => {\r\n\r\n    // we are lazy developers that do not want to select the list over and over\r\n    // whenever we use this list function manually\r\n    if(!element) element = document.querySelector('[data-load=\"tickets.list\"]');\r\n\r\n    // element still not found?! we must stop this madness\r\n    if(!element) return;\r\n    \r\n    // we clean out the old HTML should this function be fired after the list already rendered\r\n    element.innerHTML = ``;\r\n\r\n    // we show a loading text\r\n    root.labels.loading(element);\r\n\r\n    // and start the render loop!\r\n    tickets.render(element);\r\n\r\n  },\r\n\r\n\r\n  render: (element, keys, iteration) => {\r\n\r\n    // maybe the user navigated away? Somehow the element is gone, RIP loop :'(\r\n    if(!element) return;\r\n\r\n    // we need to make sure we only run 1 loop at the same time\r\n    // every time render is called outside of its own loop, iteration will be undefined\r\n    // so we use this condition to also update the dataset of the element\r\n    // in order for the old loop to kill itself...\r\n    if(!iteration) iteration = element.dataset.iteration = 'i' + Math.floor(Math.random() * 1000);\r\n\r\n    // if it turns out this execution is an outdated iteration,\r\n    // the element has updated its dataset.iteration outside of this loop\r\n    // we have to bring this loop to the white shores\r\n    // I offer this line of comment in dedication to the loop whos life will be cut before the natural end\r\n    if(element.dataset.iteration != iteration) return;\r\n\r\n    // every time render is called outside of its own loop, keys will be undefined\r\n    if(!keys) keys = Object.keys(tickets.memory);\r\n\r\n    // the loop has finished\r\n    if(!keys.length) {\r\n\r\n        // sadly, no children are found inside of the element\r\n        // this can only mean there were no results\r\n        if(!element.children.length) return root.labels.no_results(element);\r\n\r\n        // we had results, and are no longer loading, so lets clear that loading message\r\n        return element.dataset.message = '';\r\n\r\n    }\r\n\r\n    let search = tickets.search_query, // search value is changed by tickets.save_search()\r\n        ticket = tickets.memory[keys.shift()];\r\n\r\n    if(!ticket || ticket.archived ||\r\n      (search && String(ticket.name).toLowerCase().indexOf(search) == -1) ||\r\n      (tickets.manager_filter.length && tickets.manager_filter.indexOf(ticket.admin) == -1)\r\n    ) {\r\n\r\n       if(keys.length % 100 == 0) return requestAnimationFrame(()=> {\r\n\r\n         tickets.render(element, keys, iteration);\r\n\r\n       });\r\n\r\n       return tickets.render(element, keys, iteration);\r\n\r\n     }\r\n\r\n     requestAnimationFrame(()=> {\r\n\r\n      tickets.render(element, keys, iteration);\r\n\r\n    });\r\n\r\n    let elem = document.createElement('div');\r\n\r\n    elem.dataset.load = 'tickets.render_one';\r\n\r\n    elem.dataset.ticket = ticket.key;\r\n\r\n    element.appendChild(elem);\r\n\r\n  },\r\n\r\n  archive: (element) => {\r\n\r\n    let ticket = tickets.memory[element.dataset.key];\r\n\r\n    root.send({ request: 'archive', key: ticket.key }, () => {\r\n\r\n      // see update loop at the bottom of this file\r\n      tickets.updated = true;\r\n      \r\n    });\r\n\r\n  },\r\n\r\n  manager_filter: [],\r\n\r\n  toggle_course: (element) => {\r\n\r\n    let key = element.dataset.key,\r\n        filter = tickets.manager_filter,\r\n        index = filter.indexOf(key);\r\n\r\n    element.classList.toggle('active');\r\n\r\n    if(index > -1) filter.splice(index, 1);\r\n\r\n    else filter.push(key);\r\n\r\n    tickets.updated = true;\r\n\r\n  },\r\n\r\n  load_courses: (element) => {\r\n\r\n    element.innerHTML = Object.keys(root.courses.memory).reduce((html, key) => {\r\n\r\n      return html + `<div data-click=\"tickets.toggle_course\" data-key=\"${ key }\">\r\n        <span data-load=\"courses.memory.${ key }.name\"></span>\r\n      </div>`;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  render_one: (element) => {\r\n\r\n    let ticket = tickets.memory[element.dataset.ticket],\r\n        user = root.users.memory[ticket.user];\r\n\r\n    element.innerHTML = `\r\n\r\n      <div class=\"${ user.key == root.me.user ? 'me' : '' }\" data-key=\"${ user.key }\">\r\n        <img src=\"${ user.avatar }\">\r\n        <span data-load=\"users.memory.${ user.key }.name\"></span>\r\n        <span data-load=\"users.memory.${ user.key }.email\"></span>\r\n      </div>\r\n\r\n    `;\r\n\r\n  },\r\n\r\n};\r\n\r\n(function updater(){\r\n\r\n  if(!tickets.updated) return setTimeout(updater, 300);\r\n\r\n  tickets.updated = false;\r\n\r\n  tickets.list();\r\n\r\n  updater();\r\n\r\n}());","let users = module.exports = {\r\n\r\n  memory: {},\r\n\r\n  add: (element) => {\r\n\r\n    root.send({ request: 'new_user' });\r\n\r\n  },\r\n\r\n  load_clients: (element) => {\r\n\r\n    let keys = Object.keys(root.users.memory),\r\n        html = '';\r\n\r\n    element.innerHTML = Object.keys(root.users.memory).reduce((html, key) => {\r\n\r\n      let user = root.users.memory[key];\r\n\r\n      if(user.role == 'client') html += `\r\n\r\n        <div data-key=\"${ user.key }\">\r\n          <img src=\"${ user.avatar }\">\r\n          <span data-load=\"users.memory.${ user.key }.name\"></span>\r\n        </div>\r\n\r\n      `;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  load_managers: (element) => {\r\n\r\n    element.innerHTML = Object.keys(root.users.memory).reduce((html, key) => {\r\n\r\n      let user = root.users.memory[key];\r\n\r\n      if(user.role == 'admin') html += `\r\n\r\n        <div class=\"${ user.key == root.me.user ? 'me' : '' }\" data-key=\"${ user.key }\">\r\n          <img src=\"${ user.avatar }\">\r\n          <span data-load=\"users.memory.${ user.key }.name\"></span>\r\n          <span data-load=\"users.memory.${ user.key }.email\"></span>\r\n        </div>\r\n\r\n      `;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  load_profile: (element) => {\r\n\r\n    let user = root.users.memory[root.me.user];\r\n\r\n    element.innerHTML = `\r\n\r\n        <img class=\"avatar\" src=\"${ user.avatar }\"><br>\r\n\r\n        <div class=\"divider horizontal grey\"></div>\r\n\r\n        <input type=\"input\" value=\"${ user.name }\"><br>\r\n\r\n        <a data-load=\"labels.sign_out\" data-click=\"sessions.sign_out\"></a>\r\n\r\n    `;\r\n\r\n  },\r\n\r\n  load_profile_link: (element) => {\r\n    \r\n    if(!root.me || !root.me.user || !users.memory[root.me.user]) return setTimeout(users.load_profile_link, 500, element);\r\n\r\n    let user = users.memory[root.me.user];\r\n\r\n    element.innerHTML = `\r\n\r\n      <div class=\"img-container\"><img src=\"${ user.avatar }\"></div>\r\n      <span>${ user.name }</span>\r\n      \r\n    `;\r\n\r\n  },\r\n  \r\n  load_permissions: (element) => {\r\n\r\n    element.innerHTML = `\r\n      <label class=\"dark-grey\" data-load=\"labels.permissions\"></label><br>\r\n\r\n      <div class=\"row\">\r\n        <input id=\"add\" data-load=\"users.load_permission\" data-change=\"users.update_permission\" type=\"checkbox\">\r\n        <label for=\"add\" class=\"task fa fa-user-plus\"></label>\r\n        <input disabled type=\"text\" value=\"ADMIN\">\r\n      </div>\r\n\r\n     ${ users.render_tasks() }\r\n      `;\r\n    \r\n  },\r\n\r\n  render_tasks: () => {\r\n\r\n    let user = users.memory[root.me.user];\r\n\r\n    return user.tasks.reduce((memo, task, index) => {\r\n\r\n      memo += `\r\n      <div class=\"row\">\r\n        ${ task ? `<input id=\"task-${ index }\" data-load=\"users.load_permission\" data-change=\"users.update_permission\" type=\"checkbox\">` : '' }\r\n        <label for=\"task-${ index + 1 }\" class=\"task task-${ index + 1 }\">${ index + 1 }</label>\r\n        <input placeholder=\"NIEUW\" data-index=\"${ index }\" data-input=\"users.update_task\" type=\"text\" value=\"${ task }\">\r\n      </div>`;\r\n\r\n      return memo;\r\n\r\n    }, '');\r\n\r\n  },\r\n\r\n  load_permission: (input) => {\r\n\r\n    if(\r\n    (input.id == 'add' && root.me.add_permission) ||\r\n    (input.id == 'archive' && root.me.archive_permission) ||\r\n    root.me.tasks[parseInt(input.id.replace('task-', ''), 10)]\r\n    ) input.setAttribute('checked', true);\r\n\r\n  },\r\n\r\n  update_permission: (input) => {\r\n\r\n    if(input.id == 'add') return root.send({ request: 'update_permission', add_permission: input.checked });\r\n\r\n    if(input.id == 'archive') return root.send({ request: 'update_permission', archive_permission: input.checked });\r\n\r\n    let tasks = users.memory[root.me.user].tasks.map((task, index) => {\r\n\r\n      if(index == parseInt(input.id.replace('task-', ''), 10)) return input.checked ? task : '';\r\n\r\n      return root.me.tasks[index] ? task : '';\r\n\r\n    });\r\n\r\n    tasks.pop();\r\n\r\n    root.send({ request: 'update_permission', tasks: tasks });\r\n\r\n  },\r\n\r\n  update_task: (element) => {\r\n\r\n   let index = element.dataset.index,\r\n       tasks = users.memory.users_admin.tasks.slice();\r\n\r\n    tasks[parseInt(element.dataset.index, 10)] = element.value;\r\n\r\n    let update = tasks.reduce((memo, task) => {\r\n\r\n      if(!task) return memo;\r\n\r\n      memo.push(String(task).toUpperCase());\r\n\r\n      return memo;\r\n\r\n    }, []);\r\n\r\n    update.push('');\r\n\r\n    root.send({ request: 'update_tasks', tasks: update }, (user) => {\r\n\r\n      if(tasks.length == update.length) return;\r\n      \r\n      let elem = document.querySelector('[data-load=\"users.load_permissions\"]');\r\n\r\n      users.load_permissions(elem);\r\n\r\n        let input = document.querySelector(`[data-index=\"${ index }\"]`)\r\n\r\n        input.focus();\r\n        \r\n        input.selectionStart = input.selectionEnd = input.value.length;\r\n\r\n    });\r\n\r\n  },\r\n\r\n  save_email: (input) => {\r\n\r\n    localStorage.setItem('remember_email', input.value);\r\n\r\n  },\r\n\r\n  load_email: (input) => {\r\n\r\n    input.value = localStorage.getItem('remember_email') || '';\r\n\r\n    input.focus();\r\n\r\n  },\r\n\r\n\r\n  list: (element) => {\r\n\r\n    if(!element) return;\r\n\r\n    element.innerHTML = ``;\r\n\r\n    root.labels.loading(element);\r\n\r\n    requestAnimationFrame(()=> {\r\n\r\n      let search = String(localStorage.getItem('search') || '').toLowerCase();\r\n\r\n      users.render(element, search);\r\n\r\n    });\r\n\r\n  },\r\n\r\n\r\n  render: (element, search, keys, iteration) => {\r\n\r\n    if(!element) return;\r\n\r\n    if(!iteration) iteration = element.dataset.iteration = 'i' + Math.floor(Math.random() * 1000);\r\n\r\n    if(element.dataset.iteration != iteration) return;\r\n\r\n    keys = keys || Object.keys(users.memory);\r\n\r\n    if(!keys.length) {\r\n\r\n        if(!element.children.length) return root.labels.no_results(element);\r\n\r\n        return element.dataset.title = '';\r\n\r\n    }\r\n\r\n    let user = users.memory[keys.shift()];\r\n\r\n    if(!user || user.archived ||\r\n       (search && String(user.name).toLowerCase().indexOf(search) == -1)\r\n     ) {\r\n\r\n       if(keys.length % 100 == 0) return requestAnimationFrame(()=> {\r\n\r\n         users.render(element, search, keys, iteration);\r\n\r\n       });\r\n\r\n       return users.render(element, search, keys, iteration);\r\n\r\n     }\r\n\r\n     requestAnimationFrame(()=> {\r\n\r\n      users.render(element, search, keys, iteration);\r\n\r\n    });\r\n\r\n    let elem = document.createElement('div');\r\n\r\n    elem.dataset.load = 'users.render_one';\r\n\r\n    elem.dataset.user = user.key;\r\n\r\n    element.appendChild(elem);\r\n\r\n  },\r\n\r\n  edit: (element, options) => {\r\n\r\n    let request = {\r\n       request: 'edit',\r\n       key: element.dataset.user\r\n     };\r\n\r\n     let v = options ? options.value : element.value;\r\n\r\n     request[element.dataset.property] = v;\r\n\r\n     root.send(request, options ? options.callback : null);\r\n\r\n  },\r\n  \r\n  archive: (element) => {\r\n\r\n    let user = users.memory[element.dataset.key];\r\n\r\n    root.send({ request: 'archive', key: user.key }, () => {\r\n\r\n      users.updated = true;\r\n      \r\n    });\r\n\r\n  },\r\n\r\n  render_one: (element) => {\r\n\r\n    let user = users.memory[element.dataset.user];\r\n\r\n    let tasks = users.memory[root.me.user].tasks.reduce((html, task, index) => {\r\n\r\n      if(task) html += `<div data-index=\"${ index }\" data-user=\"${ user.key }\" data-click=\"users.toggle_task\" class=\"small\">${ task }</div>`;\r\n\r\n      return html;\r\n\r\n    }, '');\r\n\r\n    element.innerHTML = `\r\n      <div>\r\n        <input placeholder=\"Name\" data-property=\"name\" data-user=\"${ user.key }\" data-input=\"users.edit\" type=\"text\" value=\"${ user.name || '' }\">\r\n      </div>\r\n      <div>\r\n        <input placeholder=\"example@email.com\" data-property=\"email\" data-user=\"${ user.key }\" data-input=\"users.edit\" type=\"text\" value=\"${ user.email || '' }\">\r\n      </div>\r\n      <div>\r\n        <input placeholder=\"Password\" data-property=\"password\" data-user=\"${ user.key }\" data-input=\"users.edit\" type=\"password\">\r\n      </div>\r\n      <div>\r\n        <select data-property=\"role\" value=\"${ user.role }\" data-user=\"${ user.key }\" data-change=\"users.edit\">\r\n          <option${ user.role == 'intern' ? ' selected' : '' } value=\"intern\">Intern</option>\r\n          <option${ user.role == 'driver' ? ' selected' : '' } value=\"driver\">Chauffeur</option>\r\n          <option${ user.role == 'admin' ? ' selected' : '' } value=\"admin\">Admin</option>\r\n        </select>\r\n      </div>\r\n      <div>\r\n        <button data-click=\"users.archive\" data-key=\"${ user.key }\">ARCHIVEER</button>\r\n      </div>\r\n    `;\r\n\r\n    if(!user.name) element.querySelector('input').focus();\r\n\r\n    function format(date) {\r\n\r\n      date = new Date(date);\r\n\r\n      let months = ['januari', 'februari', 'maart', 'april', 'mei', 'juni', 'juli', 'augustus', 'september', 'oktober', 'november', 'december'];\r\n\r\n      if (!date || String(date).toLowerCase() == 'invalid date') return '';\r\n\r\n      return `\r\n        ${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}\r\n        ${ date.getHours() }:${ String(date.getMinutes()).length > 1 ? '' : 0 }${ date.getMinutes() }\r\n      `;\r\n\r\n    }\r\n\r\n  },\r\n\r\n  save_search: (element) => {\r\n\r\n\tlocalStorage.setItem('search', element.value);\r\n\r\n\tusers.updated = true;\r\n\r\n  }\r\n\r\n  \r\n};\r\n\r\n(function updater(){\r\n\r\n  if(!users.updated) return setTimeout(updater, 300);\r\n\r\n  users.updated = false;\r\n\r\n  // updater();\r\n\r\n}());","//AOS\r\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.AOS=t():e.AOS=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p=\"dist/\",t(0)}([function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(1),a=(o(r),n(6)),u=o(a),c=n(7),f=o(c),s=n(8),d=o(s),l=n(9),p=o(l),m=n(10),b=o(m),v=n(11),y=o(v),g=n(14),h=o(g),w=[],k=!1,x=document.all&&!window.atob,j={offset:120,delay:0,easing:\"ease\",duration:400,disable:!1,once:!1,startEvent:\"DOMContentLoaded\"},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(k=!0),k)return w=(0,y.default)(w,j),(0,b.default)(w,j.once),w},S=function(){w=(0,h.default)(),O()},_=function(){w.forEach(function(e,t){e.node.removeAttribute(\"data-aos\"),e.node.removeAttribute(\"data-aos-easing\"),e.node.removeAttribute(\"data-aos-duration\"),e.node.removeAttribute(\"data-aos-delay\")})},E=function(e){return e===!0||\"mobile\"===e&&p.default.mobile()||\"phone\"===e&&p.default.phone()||\"tablet\"===e&&p.default.tablet()||\"function\"==typeof e&&e()===!0},z=function(e){return j=i(j,e),w=(0,h.default)(),E(j.disable)||x?_():(document.querySelector(\"body\").setAttribute(\"data-aos-easing\",j.easing),document.querySelector(\"body\").setAttribute(\"data-aos-duration\",j.duration),document.querySelector(\"body\").setAttribute(\"data-aos-delay\",j.delay),\"DOMContentLoaded\"===j.startEvent&&[\"complete\",\"interactive\"].indexOf(document.readyState)>-1?O(!0):\"load\"===j.startEvent?window.addEventListener(j.startEvent,function(){O(!0)}):document.addEventListener(j.startEvent,function(){O(!0)}),window.addEventListener(\"resize\",(0,f.default)(O,50,!0)),window.addEventListener(\"orientationchange\",(0,f.default)(O,50,!0)),window.addEventListener(\"scroll\",(0,u.default)(function(){(0,b.default)(w,j.once)},99)),document.addEventListener(\"DOMNodeRemoved\",function(e){var t=e.target;t&&1===t.nodeType&&t.hasAttribute&&t.hasAttribute(\"data-aos\")&&(0,f.default)(S,50,!0)}),(0,d.default)(\"[data-aos]\",S),w)};e.exports={init:z,refresh:O,refreshHard:S}},function(e,t){},,,,,function(e,t){(function(t){\"use strict\";function n(e,t,n){function o(t){var n=b,o=v;return b=v=void 0,k=t,g=e.apply(o,n)}function r(e){return k=e,h=setTimeout(s,t),S?o(e):g}function a(e){var n=e-w,o=e-k,i=t-n;return _?j(i,y-o):i}function c(e){var n=e-w,o=e-k;return void 0===w||n>=t||n<0||_&&o>=y}function s(){var e=O();return c(e)?d(e):void(h=setTimeout(s,a(e)))}function d(e){return h=void 0,E&&b?o(e):(b=v=void 0,g)}function l(){void 0!==h&&clearTimeout(h),k=0,b=w=v=h=void 0}function p(){return void 0===h?g:d(O())}function m(){var e=O(),n=c(e);if(b=arguments,v=this,w=e,n){if(void 0===h)return r(w);if(_)return h=setTimeout(s,t),o(w)}return void 0===h&&(h=setTimeout(s,t)),g}var b,v,y,g,h,w,k=0,S=!1,_=!1,E=!0;if(\"function\"!=typeof e)throw new TypeError(f);return t=u(t)||0,i(n)&&(S=!!n.leading,_=\"maxWait\"in n,y=_?x(u(n.maxWait)||0,t):y,E=\"trailing\"in n?!!n.trailing:E),m.cancel=l,m.flush=p,m}function o(e,t,o){var r=!0,a=!0;if(\"function\"!=typeof e)throw new TypeError(f);return i(o)&&(r=\"leading\"in o?!!o.leading:r,a=\"trailing\"in o?!!o.trailing:a),n(e,t,{leading:r,maxWait:t,trailing:a})}function i(e){var t=\"undefined\"==typeof e?\"undefined\":c(e);return!!e&&(\"object\"==t||\"function\"==t)}function r(e){return!!e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":c(e))}function a(e){return\"symbol\"==(\"undefined\"==typeof e?\"undefined\":c(e))||r(e)&&k.call(e)==d}function u(e){if(\"number\"==typeof e)return e;if(a(e))return s;if(i(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(l,\"\");var n=m.test(e);return n||b.test(e)?v(e.slice(2),n?2:8):p.test(e)?s:+e}var c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},f=\"Expected a function\",s=NaN,d=\"[object Symbol]\",l=/^\\s+|\\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,b=/^0o[0-7]+$/i,v=parseInt,y=\"object\"==(\"undefined\"==typeof t?\"undefined\":c(t))&&t&&t.Object===Object&&t,g=\"object\"==(\"undefined\"==typeof self?\"undefined\":c(self))&&self&&self.Object===Object&&self,h=y||g||Function(\"return this\")(),w=Object.prototype,k=w.toString,x=Math.max,j=Math.min,O=function(){return h.Date.now()};e.exports=o}).call(t,function(){return this}())},function(e,t){(function(t){\"use strict\";function n(e,t,n){function i(t){var n=b,o=v;return b=v=void 0,O=t,g=e.apply(o,n)}function r(e){return O=e,h=setTimeout(s,t),S?i(e):g}function u(e){var n=e-w,o=e-O,i=t-n;return _?x(i,y-o):i}function f(e){var n=e-w,o=e-O;return void 0===w||n>=t||n<0||_&&o>=y}function s(){var e=j();return f(e)?d(e):void(h=setTimeout(s,u(e)))}function d(e){return h=void 0,E&&b?i(e):(b=v=void 0,g)}function l(){void 0!==h&&clearTimeout(h),O=0,b=w=v=h=void 0}function p(){return void 0===h?g:d(j())}function m(){var e=j(),n=f(e);if(b=arguments,v=this,w=e,n){if(void 0===h)return r(w);if(_)return h=setTimeout(s,t),i(w)}return void 0===h&&(h=setTimeout(s,t)),g}var b,v,y,g,h,w,O=0,S=!1,_=!1,E=!0;if(\"function\"!=typeof e)throw new TypeError(c);return t=a(t)||0,o(n)&&(S=!!n.leading,_=\"maxWait\"in n,y=_?k(a(n.maxWait)||0,t):y,E=\"trailing\"in n?!!n.trailing:E),m.cancel=l,m.flush=p,m}function o(e){var t=\"undefined\"==typeof e?\"undefined\":u(e);return!!e&&(\"object\"==t||\"function\"==t)}function i(e){return!!e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":u(e))}function r(e){return\"symbol\"==(\"undefined\"==typeof e?\"undefined\":u(e))||i(e)&&w.call(e)==s}function a(e){if(\"number\"==typeof e)return e;if(r(e))return f;if(o(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(d,\"\");var n=p.test(e);return n||m.test(e)?b(e.slice(2),n?2:8):l.test(e)?f:+e}var u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},c=\"Expected a function\",f=NaN,s=\"[object Symbol]\",d=/^\\s+|\\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,b=parseInt,v=\"object\"==(\"undefined\"==typeof t?\"undefined\":u(t))&&t&&t.Object===Object&&t,y=\"object\"==(\"undefined\"==typeof self?\"undefined\":u(self))&&self&&self.Object===Object&&self,g=v||y||Function(\"return this\")(),h=Object.prototype,w=h.toString,k=Math.max,x=Math.min,j=function(){return g.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){\"use strict\";function n(e,t){a.push({selector:e,fn:t}),!u&&r&&(u=new r(o),u.observe(i.documentElement,{childList:!0,subtree:!0,removedNodes:!0})),o()}function o(){for(var e,t,n=0,o=a.length;n<o;n++){e=a[n],t=i.querySelectorAll(e.selector);for(var r,u=0,c=t.length;u<c;u++)r=t[u],r.ready||(r.ready=!0,e.fn.call(r,r))}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=window.document,r=window.MutationObserver||window.WebKitMutationObserver,a=[],u=void 0;t.default=n},function(e,t){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(){return navigator.userAgent||navigator.vendor||window.opera||\"\"}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,u=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,f=function(){function e(){n(this,e)}return i(e,[{key:\"phone\",value:function(){var e=o();return!(!r.test(e)&&!a.test(e.substr(0,4)))}},{key:\"mobile\",value:function(){var e=o();return!(!u.test(e)&&!c.test(e.substr(0,4)))}},{key:\"tablet\",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new f},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e,t,n){var o=e.node.getAttribute(\"data-aos-once\");t>e.position?e.node.classList.add(\"aos-animate\"):\"undefined\"!=typeof o&&(\"false\"===o||!n&&\"true\"!==o)&&e.node.classList.remove(\"aos-animate\")},o=function(e,t){var o=window.pageYOffset,i=window.innerHeight;e.forEach(function(e,r){n(e,i+o,t)})};t.default=o},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(12),r=o(i),a=function(e,t){return e.forEach(function(e,n){e.node.classList.add(\"aos-init\"),e.position=(0,r.default)(e.node,t.offset)}),e};t.default=a},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(13),r=o(i),a=function(e,t){var n=0,o=0,i=window.innerHeight,a={offset:e.getAttribute(\"data-aos-offset\"),anchor:e.getAttribute(\"data-aos-anchor\"),anchorPlacement:e.getAttribute(\"data-aos-anchor-placement\")};switch(a.offset&&!isNaN(a.offset)&&(o=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,r.default)(e).top,a.anchorPlacement){case\"top-bottom\":break;case\"center-bottom\":n+=e.offsetHeight/2;break;case\"bottom-bottom\":n+=e.offsetHeight;break;case\"top-center\":n+=i/2;break;case\"bottom-center\":n+=i/2+e.offsetHeight;break;case\"center-center\":n+=i/2+e.offsetHeight/2;break;case\"top-top\":n+=i;break;case\"bottom-top\":n+=e.offsetHeight+i;break;case\"center-top\":n+=e.offsetHeight/2+i}return a.anchorPlacement||a.offset||isNaN(t)||(o=t),n+o};t.default=a},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-(\"BODY\"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-(\"BODY\"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){e=e||document.querySelectorAll(\"[data-aos]\");var t=[];return[].forEach.call(e,function(e,n){t.push({node:e})}),t};t.default=n}])});","let calender = module.exports = {\n\n  load: (element) => {\n\n\troot.calender = element;\n\n    var a = moment('2016-01-01'); \n    var b = a.add(1, 'week'); \n    a.format();\n\n    console.log(a);\n\n  },\n\n};","let editor = module.exports = {\r\n\r\n  course: null,\r\n\r\n  ticket: null,\r\n\r\n  load_button_primary: ()=>{},\r\n\r\n  load_button_secondary: ()=>{},\r\n\r\n  load_overlay: ()=>{},\r\n\r\n  load_background: ()=>{},\r\n\r\n  toggle_publish: (element) => {\r\n\r\n    editor.course.published_at = editor.course.published_at ? '' : new Date();\r\n\r\n    editor.update();\r\n\r\n  },\r\n\r\n  load_course: (element)=>{\r\n\r\n    let key = history.state.course,\r\n        course = root.courses.memory[key],\r\n        colors = ['7ac673','1abc9c','27aae0','2c82c9','9365b8','4c6972','ffffff','41a85f','00a885','3d8eb9',\r\n                  '2969b0','553982','475577','efefef','f7da64','faaf40','eb6b56','e25041','a38f84','28324e',\r\n                  'cccccc','fac51c','f97352','d14841','b8312f','7c706b','000000','c1c1c1'];\r\n\r\n\r\n    if(editor.ticket) root.main.classList.add('ticket-mode');\r\n    \r\n    editor.looping = Math.random();\r\n\r\n    editor.tooltip(editor.looping);\r\n\r\n    editor.course = course;\r\n\r\n    editor.element = element;\r\n\r\n    element.dataset.published = course.published_at ? 'yes' : 'no';\r\n\r\n    element.dataset.device = 'desktop';\r\n\r\n    if (!course.blocks) course.blocks = [];\r\n\r\n    element.innerHTML = course.blocks.reduce((html,block,index)=>{\r\n\r\n      let options = Object.keys(block.options).reduce((html,option)=>`${html} data-${option}=\"${block.options[option].value}\"`, '');\r\n\r\n      return `${html}<div class=\"block\" ${options} data-key=\"${block.key}\" data-index=\"${index}\">\r\n        ${block.html}\r\n        <div class=\"block-tooltip\" data-index=\"${index}\" data-load=\"editor.load_tooltip\">\r\n          <div class=\"inner\">\r\n           <div class=\"color-picker\">${\r\n             colors.map((c)=>`<b style=\"background-color:#${ c };\"></b>`).join('')\r\n           }</div>\r\n           <div class=\"set-link\"><button>set link</button></div>\r\n           <i data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"link\" class=\"fa fa-link\"></i>\r\n           <span data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"color\" class=\"color\"><i class=\"fa fa-paint-brush\"></i></span>\r\n           <i data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"align\" class=\"fa fa-align-left\"></i>\r\n           <i data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"add\" class=\"fa fa-plus\"></i>\r\n           <i data-click=\"editor.toggle_tooltip_submenu\" data-tab=\"delete\" class=\"fa fa-trash\"></i>\r\n          </div>\r\n        </div>\r\n        <div class=\"block-options\">\r\n          <a data-index=\"${ index }\" data-action=\"move-up\" data-load=\"labels.title_move_up\" data-click=\"editor.update\" class=\"control-btn fa fa-arrow-up\"></a>\r\n          <a data-index=\"${ index }\" data-action=\"move-down\" data-load=\"labels.title_move_down\" data-click=\"editor.update\" class=\"control-btn fa fa-arrow-down\"></a>\r\n          <a data-load=\"labels.title_options\" class=\"control-btn fa fa-cog\"></a>\r\n          <div class=\"block-config\">${Object.keys(block.options).reduce((html,option,id)=>{\r\n\r\n        let element = `<label for=\"input-${id}\" data-load=\"labels.${option}\"></label><br>`;\r\n\r\n        if (block.options[option].type == 'boolean') element = `<input data-option=\"${ option }\" data-index=\"${ index }\" data-change=\"editor.input_save\" ${block.options[option].value ? 'checked' : ''} id=\"input-${id}\" type=\"checkbox\">${element}`;\r\n\r\n        return `${html}${element}`;\r\n\r\n      }\r\n      , '')}</div>\r\n          <a data-action=\"delete\" data-index=\"${ index }\" data-load=\"labels.title_delete\" data-click=\"editor.update\" class=\"control-btn fa fa-trash\"></a>\r\n        </div>\r\n      </div>`;\r\n\r\n    }\r\n    , `\r\n      <div class=\"control-editor\">\r\n        <a data-load=\"labels.title_save\" data-click=\"editor.update\" class=\"control-btn fa fa-save\"></a>\r\n        <a data-load=\"labels.title_online\" data-click=\"editor.toggle_publish\" class=\"control-btn fa fa-cloud-upload\"></a>\r\n        <a data-load=\"labels.title_offline\" data-click=\"editor.toggle_publish\" class=\"control-btn fa fa-cloud-download\"></a>\r\n        <a data-load=\"labels.title_preview\" data-click=\"editor.preview\" class=\"control-btn fa fa-eye\"></a>\r\n        <a data-load=\"labels.title_mobile_view\" data-click=\"editor.toggle_view\" class=\"control-btn fa fa-mobile\"></a>\r\n        <a data-load=\"labels.title_desktop_view\" data-click=\"editor.toggle_view\" class=\"control-btn fa fa-desktop\"></a>\r\n        <div data-load=\"blocks.load\"></div>\r\n      </div>\r\n    `);\r\n\r\n  },\r\n\r\n  toggle_tooltip_submenu: (element) => {\r\n\r\n    let data = editor.focus.dataset,\r\n        index = parseInt(data.index, 10),\r\n        count = parseInt(data.count, 10),\r\n        options;\r\n\r\n    element.parentElement.dataset.tab = element.dataset.tab;\r\n\r\n    switch(element.dataset.tab) {\r\n\r\n      case 'add':\r\n\r\n        options = editor.course.blocks[index].options[data.element];\r\n\r\n        options.content.splice(count + 1, 0, '');\r\n\r\n        root.main.dataset.load = root.main.dataset.load;\r\n\r\n        break;\r\n\r\n      case 'delete':\r\n\r\n        options = editor.course.blocks[index].options[data.element];\r\n\r\n        if(options.content.length < 2) options.value = false;\r\n\r\n        else options.content.splice(count, 1);\r\nconsole.log(options)\r\n        root.main.dataset.load = root.main.dataset.load;\r\n\r\n        break;\r\n        \r\n    }\r\n    \r\n  },\r\n\r\n  tooltip_list: [],\r\n\r\n  load_tooltip: (element)=>{\r\n\r\n    editor.tooltip_list[parseInt(element.dataset.index, 10)] = element;\r\n\r\n  },\r\n\r\n  input_save: (element) => {\r\n\r\n    let block = editor.course.blocks[parseInt(element.dataset.index, 10)],\r\n        option = block.options[element.dataset.option];\r\n\r\n    if(option.type == 'boolean') option.value = !option.value;\r\n    \r\n    root.main.dataset.load = root.main.dataset.load;\r\n\r\n  },\r\n\r\n  tooltip: (iteration, block)=>{\r\n\r\n    if (history.state.page != 'edit' || editor.looping != iteration) return;\r\n\r\n    let focus = document.activeElement;\r\n\r\n    if (!focus || focus.tagName.toLowerCase() != 'textarea') {\r\n\r\n      setTimeout(editor.tooltip, 500, iteration);\r\n\r\n      return editor.tooltip_list.map(close);\r\n      \r\n    }\r\n\r\n    editor.focus = focus;\r\n\r\n    block = block || focus.parentElement;\r\n\r\n    if(!block.parentElement) return setTimeout(editor.tooltip, 500, iteration);\r\n\r\n    if(!block.classList.contains('block')) {\r\n\r\n      block = block.parentElement;\r\n\r\n      return editor.tooltip(iteration, block);\r\n\r\n    }\r\n   \r\n    setTimeout(editor.tooltip, 500, iteration);\r\n\r\n    let index = block.dataset.index;\r\n\r\n    if (typeof index == 'undefined') return editor.tooltip_list.map(close);\r\n      \r\n    editor.tooltip_list[index].style.bottom = `${ block.offsetHeight - focus.offsetTop }px`;\r\n\r\n    editor.tooltip_list[index].style.left = `${ focus.offsetLeft }px`;\r\n\r\n    editor.tooltip_list[index].querySelector('.block-tooltip .inner').dataset.tab = '';\r\n\r\n    let is_array = Array.isArray(editor.course.blocks[index].options[focus.dataset.element].content);\r\n\r\n    editor.tooltip_list[index].classList[is_array ? 'add' : 'remove']('is-array');\r\n\r\n    if (editor.tooltip_list[index].classList.contains('fade-in')) return;\r\n    \r\n    editor.tooltip_list.map(close);\r\n    \r\n    editor.tooltip_list[index].style.display = 'block';\r\n\r\n    requestAnimationFrame(()=>{\r\n\r\n      editor.tooltip_list[index].classList.add('fade-in');\r\n\r\n    });\r\n\r\n    function close(element){\r\n\r\n      element.style.display = 'none';\r\n\r\n      element.classList.remove('fade-in');\r\n\r\n    }\r\n\r\n  },\r\n\r\n  add_block: (key)=>{\r\n\r\n    let course = root.courses.memory[history.state.course]\r\n      , block = root.blocks.memory[key];\r\n\r\n    course.blocks = course.blocks || [];\r\n\r\n    let demo = [\r\n      { page: 'Introduction', tab: 'Part I', index: 0 },\r\n      { progress: 5 },\r\n      { tab: 'Part II', index: 2, progress: 5 },\r\n      { tab: 'Part III', index: 3, progress: 5 },\r\n      { page: 'Learning the basics', tab: 'Module A', index: 4, progress: 15 },\r\n      { progress: 15 },\r\n      { progress: 15 },\r\n      { tab: 'Module B', index: 7, progress: 10 },\r\n      { page: 'Questions', index: 8, progress: 10 },\r\n      { progress: 10 },\r\n      { progress: 10 },\r\n      { page: 'Conclusion', index: 11 }\r\n    ];\r\n\r\n    block = Object.assign(demo[course.blocks.length] || {}, block);\r\n\r\n    course.blocks.push(block);\r\n\r\n    block.options = Object.keys(block.options).reduce((options,key)=>{\r\n\r\n      options[key] = editor.set_option(block.options[key], key);\r\n\r\n      return options;\r\n\r\n    }\r\n    , {});\r\n\r\n    root.courses.updated = true;\r\n\r\n  },\r\n\r\n  scroll_trigger: (element) =>  {\r\n    \r\n  },\r\n\r\n  set_option: (config,property)=>{\r\n\r\n    config.property = property;\r\n\r\n    if (config.type == 'boolean') config.value = true;\r\n\r\n    if (config.type == 'number') config.value = 2;\r\n\r\n    return config;\r\n\r\n  },\r\n\r\n  load_element: (element, parent)=>{\r\n\r\n    parent = parent || element.parentElement;\r\n\r\n    if(!parent.classList.contains('block'))\r\n      return editor.load_element(element, parent.parentElement);\r\n\r\n    let index = parent.dataset.index;\r\n\r\n    if(typeof index == 'undefined') return element.dataset.load = `editor.load_${ key }`;\r\n\r\n    index = parseInt(index, 10);\r\n\r\n    let block = editor.course.blocks[index],\r\n        key = element.dataset.element;\r\n\r\n    element.dataset.input = 'editor.save';\r\n\r\n    element.addEventListener('mouseenter', ()=>{ element.focus(); });\r\n\r\n    if(!block.options[key]) return console.log(key, editor.course.key, index, block);\r\n\r\n    if(!block.options[key].value) return element.style.display = 'none';\r\n\r\n    if(!block.options[key].content) block.options[key].content = key;\r\n\r\n    if(element.tagName.toLowerCase() == 'textarea') {\r\n\r\n      element.value = block.options[key].content;\r\n\r\n      if(editor.ticket) element.disabled = true;\r\n\r\n    }\r\n\r\n    element.dataset.index = index;\r\n\r\n    element.dataset.load = `editor.load_${ key }`;\r\n\r\n  },\r\n\r\n  load_button_group: (element) => {\r\n\r\n    let index = parseInt(element.dataset.index, 10),\r\n        block = editor.course.blocks[index],\r\n        options = block.options[element.dataset.element];\r\n\r\n    element.innerHTML = options.content.map((string, count) => {\r\n      return `<textarea ${ editor.ticket ? 'disabled' : ''} data-input=\"editor.save\" data-count=\"${ count }\" data-element=\"button_group\" data-index=\"${ index }\">${ string }</textarea>`\r\n    }).join('');\r\n    \r\n  },\r\n\r\n  load_title: (element) => {\r\n\r\n  },\r\n\r\n  load_text: (element) => {\r\n\r\n  },\r\n\r\n  load_video: (element) => {\r\n  \r\n    let html = `\r\n      <img src=\"/placeholder-video.png\"><!--\r\n\r\n   --><input type=\"text\" data-load=\"labels.youtube_placeholder\"><!--\r\n\r\n   --><button data-click=\"editor.insert_video\"></button>\r\n\r\n      <div class=\"player\"></div>\r\n    `;\r\n  \r\n    element.innerHTML = html;\r\n\r\n  },\r\n\r\n  insert_video: (element) => {\r\n\r\n    let input = element.previousElementSibling,\r\n        container = element.nextElementSibling,\r\n        iframe = document.createElement(\"iframe\");\r\n\r\n    iframe.setAttribute(\"frameborder\", \"0\");\r\n    iframe.setAttribute(\"allowfullscreen\", \"\");\r\n    iframe.setAttribute(\"src\", `https://www.youtube.com/embed/${ input.value }`);    \r\n    container.innerHTML = '';\r\n    container.appendChild(iframe);\r\n\r\n  },\r\n\r\n  // only locally\r\n  save: (element)=>{\r\n\r\n    let index = parseInt(element.parentElement.dataset.index, 10),\r\n        block = editor.course.blocks[index];\r\n\r\n     if(typeof element.dataset.count == 'undefined') \r\n      return  block.options[element.dataset.element].content = element.value;\r\n\r\n     let count = parseInt(element.dataset.count, 10);\r\n\r\n     block.options[element.dataset.element].content[count] = element.value;\r\n\r\n  },\r\n\r\n  // updates course in server\r\n  update: (element)=>{\r\n\r\n    let index = parseInt(element.dataset.index, 10),\r\n        temp_index,\r\n        moved;\r\n\r\n    switch(element.dataset.action) {\r\n\r\n      case 'delete':\r\n        editor.course.blocks.splice(index, 1);\r\n        break;\r\n\r\n      case 'move-down':\r\n        if(index + 2 > editor.course.blocks.length) return;\r\n        moved = editor.course.blocks.splice(index, 2).reverse();\r\n        temp_index = moved[1].index;\r\n        moved[1].index = moved[0].index;\r\n        moved[0].index = temp_index;\r\n        editor.course.blocks.splice(index, 0, moved[0], moved[1]);\r\n        break;\r\n\r\n      case 'move-up':\r\n        if(index < 1) return;\r\n        moved = editor.course.blocks.splice(index - 1, 2).reverse();\r\n        temp_index = moved[1].index;\r\n        moved[1].index = moved[0].index;\r\n        moved[0].index = temp_index;\r\n        editor.course.blocks.splice(index - 1, 0, moved[0], moved[1]);\r\n        break;\r\n\r\n    }\r\n\r\n    editor.element.classList.add('saving');\r\n\r\n    root.send({\r\n      request: 'set_course',\r\n      set: editor.course\r\n    }, ()=>{\r\n\r\n      editor.element.classList.remove('saving');\r\n\r\n      root.main.dataset.load = root.main.dataset.load;\r\n\r\n    });\r\n\r\n  }\r\n\r\n};\r\n","const LANGS = ['nl', 'en'];\r\n\r\nlet index = LANGS.indexOf(localStorage.getItem('language'));\r\n\r\nif (index == -1) index = 0;\r\n\r\nlet labels = {\r\n    title_move_up: [title('Omhoog'), title('Move up')],\r\n    title_move_down: [title('Omlaag'), title('Move down')],\r\n    title_options: [title('Opties'), title('Options')],\r\n    title_delete: [title('Verwijder'), title('Delete')],\r\n    title_save: [title('Opslaan'), title('Save')],\r\n    title_online: [title('Online'), title('Online')],\r\n    title_offline: [title('Offline'), title('Offline')],\r\n    title_preview: [title('Preview'), title('Preview')],\r\n    title_mobile_view: [title('Mobile'), title('Mobile')],\r\n    title_desktop_view: [title('Desktop'), title('Desktop')],\r\n    delete: ['Verwijder', 'Delete'],\r\n    home: ['Home', 'Home'],\r\n    home_text: ['De enige echte privéstudio!', 'The only real private studio!'],\r\n    home_intake_button: ['Gratis intake', 'Free intake'],\r\n    home_nutrition: ['Voeding', 'Nutrition'],\r\n    home_nutrition_description: ['Lorem ipsum dolor sit amet, consectetur adipiscing elit.', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'],\r\n    home_training: ['Training', 'Training'],\r\n    home_training_description: ['Lorem ipsum dolor sit amet, consectetur adipiscing elit.', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'],\r\n    home_lifestyle: ['Lifestyle', 'Lifestyle'],\r\n    home_lifestyle_description: ['Lorem ipsum dolor sit amet, consectetur adipiscing elit.', 'Lorem ipsum dolor sit amet, consectetur adipiscing elit.'],\r\n    home_share_page: ['Deel deze pagina', 'Share this page'],\r\n    home_joris_merel: ['Joris Boon en Merel Witkamp', 'Joris Boon and Merel Witkamp'],\r\n    home_joris_merel_description: [\"Mogen we ons even aan u voorstellen. Wij zijn Joris Boon en Merel Witkamp. We zijn beiden fanatieke sporttrainers waarbij we weten dat individuele training allereerst tot resultaat moet leiden bijvoorbeeld afvallen, vitaler of gewoon \\'je beter voelen\\'. Maar we weten ook dat training alleen vaak niet voldoende is. Vandaar dat we een uniek coachingprogramma hebben geïntroduceerd onder de noemer \\'Managers Vitality: for a work - life balance that boosts your management performance'. Het gaat dan om een programma om een betere werk - privé balans te vinden (ook in relatie tot fitness) alsmede omveel betere resultaten op het werk te behalen. Het focust zich op de '7th habit' van managementgoeroe Stephan Covey waar hij heeft over 'het scherp houden van de zaag'. Inmiddels hebben al vele managers zich voor dit programma ingeschreven.\", \"May we introduce ourselves to you, we are Joris Boon and Merel Witkamp We are both fanatical sports trainers where we know that individual training should lead to results first, for example losing weight, being more vital or just 'feeling better'. also that training alone is often not sufficient, which is why we have introduced a unique coaching program under the heading 'Managers Vitality: for a work - life balance that boosts your management performance' - a program for a better work - private life. To find a balance (also in relation to fitness) as well as to achieve much better results at work, it focuses on the '7th habit' of management guru Stephan Covey, who talks about 'keeping the saw sharp'. managers registered for this program.\"],\r\n    team_text: ['Mogen wij uw personal trainer of personal coach zijn?', 'Can we be your personal trainer or personal coach?'],\r\n    team_intro_1: [\"Joris Boon en Merel Witkamp, beiden met een jarenlange ervaring in de sportbranche, bundelen hun krachten om jou een training op maat te kunnen bieden. Joris Boon is een zeer ervaren trainer op het gebied van vechtsport en krachttraining. Met zijn 25 jaar ervaring als sportinstructeur weet hij deze technieken perfect toe te passen bij personal training. Merel Witkamp is thuis in de wereld van personal training, yoga en pilates. Daarnaast is ze gespecialiseerd in revalidatietraining en revalidatietraining voor ex-kankerpatiënten.\", \"Joris Boon and Merel Witkamp, both with years of experience in the sports industry, join forces to offer you a tailor-made training. Joris Boon is a very experienced trainer in the field of martial arts and strength training. With his 25 years of experience as a sports instructor he knows how to perfectly apply these techniques to personal training. Merel Witkamp is at home in the world of personal training, yoga and pilates. She is also specialized in rehabilitation training and rehabilitation training for ex-cancer patients.\"],\r\n    team_intro_2: [\"Afgelopen jaar besloten wij om samen een privéstudio te openen in een eigen luxe stijl. Een privéstudio waar je in alle rust ook echt privé traint! Jij alleen samen met een van ons. We willen jou door onze persoonlijke begeleiding helpen om op een snelle en effectieve wijze je doelen te verwezenlijken. Door het brede aanbod van krachttraining, conditietraining, revalidatietraining, bokstraining, yoga en pilates kunnen we jou de training bieden die op je lijf geschreven is. Durf jij nu de stap te nemen?\", \"Last year we decided to open a private studio together in our own luxury style. A private studio where you can practice private training in peace! You alone with one of us. We want to help you through our personal guidance to realize your goals in a fast and effective way. Through the wide range of strength training, fitness training, rehabilitation training, boxing training, yoga and pilates we can offer you the training that is right for you. Do you dare to take the step now?\"],\r\n    add: ['Toevoegen', 'Add'],\r\n    invite: ['Uitnodigen', 'Invite'],\r\n    team: ['Team', 'Team'],\r\n    sign_in: [value('Inloggen'), value('Sign in')],\r\n    sign_in_link: ['Inloggen', 'Sign in'],\r\n    sign_in_input: [value('Inloggen', value('Sign in'))],\r\n    sign_out: ['Uitloggen', 'Sign out'],\r\n    courses: ['Cursussen', 'Courses'],\r\n    invitations: ['Uitnodigingen', 'Invitations'],\r\n    stats: ['Statistieken', 'Statistics'],\r\n    confirm_delete: ['Bevestig verwijdering', 'Confirm deletion'],\r\n    no_results: [\r\n        title('Geen resultaten'),\r\n        title('No results')\r\n    ],\r\n    loading: [\r\n        title('Laden...'),\r\n        title('Loading...')\r\n    ],\r\n    archive: ['Archiveer', 'Archive'],\r\n    view: ['Bekijk', 'View'],\r\n    view_mode: ['VIEW MODE', 'VIEW MODE'],\r\n    search: ['ZOEKEN', 'SEARCH'],\r\n    managers: ['MANAGERS', 'MANAGERS'],\r\n    edit: ['Aanpassen', 'Edit'],\r\n    stats_short: ['Stats', 'Stats'],\r\n    copy: ['Kopi&#xEB;ren', 'Copy'],\r\n    viewed: ['Bekeken:', 'Viewed:'],\r\n    published: ['Gepubliceerd', 'Published'],\r\n    unpublished: ['Niet Gepubliceerd', 'Unpublished'],\r\n    login_password: ['WACHTWOORD', 'PASSWORD'],\r\n    edit_password: ['WACHTWOORD WIJZIGEN', 'CHANGE PASSWORD'],\r\n    old_password: [placeholder('oud wachtwoord'), placeholder('old password')],\r\n    new_password: [placeholder('nieuw wachtwoord'), placeholder('new password')],\r\n    placeholder_search: [placeholder('Zoeken'), placeholder('Search')],\r\n    save_profile: [value('Sla profiel op'), value('Save profile')],\r\n    clients: ['Klanten', 'Clients'],\r\n    app_settings: ['App instellingen', 'App settings'],\r\n    name: [placeholder('Naam'), placeholder('Name')],\r\n    password: [placeholder('Wachtwoord'), placeholder('Password')],\r\n    send_invite: ['Verstuur uitnodiging', 'Send invite'],\r\n    events: ['Evenementen', 'Events'],\r\n    title: ['Show Title', 'Show Title'],\r\n    text: ['Show Text', 'Show Text'],\r\n    button_primary: ['Show Primary Button', 'Show Primary Button'],\r\n    button_secondary: ['Show Secondary Button', 'Show Secondary Button'],\r\n    buttons: ['Show Buttons', 'Show Buttons'],\r\n    button_group: ['Show Buttons', 'Show Buttons'],\r\n    arrow: ['Show Arrow', 'Show Arrow'],\r\n    content_align: ['Content Align', 'Content Align'],\r\n    background: ['Background', 'Background'],\r\n    parallax: ['Parallax', 'Parallax'],\r\n    background_color: ['Background Color', 'Background Color'],\r\n    background_video: ['Background Video', 'Background Video'],\r\n    overlay: ['Overlay', 'Overlay'],\r\n    services: ['Diensten', 'Services'],\r\n    contact_name: ['Naam', 'Name'],\r\n    contact_email: ['Email', 'Email'],\r\n    contact_message: ['Bericht', 'Message'],\r\n    send: ['Verstuur', 'Send'],\r\n    progress: ['Progressie', 'Progress'],\r\n    video: ['Video', 'Video'],\r\n    youtube_placeholder: [placeholder('mXq8SekC5Qg'), placeholder('mXq8SekC5Qg')],\r\n    points: ['Punten', 'Points']\r\n};\r\n\r\nfor (let n in labels) {\r\n\r\n    if (!labels.hasOwnProperty(n)) continue;\r\n\r\n    if (labels[n] == false) labels[n] = n;\r\n\r\n    else labels[n] = labels[n][index];\r\n\r\n}\r\n\r\nmodule.exports = labels;\r\n\r\nfunction placeholder(label) {\r\n\r\n    return (el) => el.setAttribute('placeholder', label);\r\n\r\n}\r\n\r\nfunction title(label) {\r\n\r\n    return (el) => el.setAttribute('data-title', label);\r\n\r\n}\r\n\r\nfunction value(label) {\r\n\r\n    return (el) => { el.value = label; };\r\n\r\n}","let modal = module.exports = {\r\n\r\n  load: (element) => {\r\n\r\n\troot.modal_element = element;\r\n\r\n  },\r\n\r\n  open: (element, load) => {\r\n\r\n\tlet modal = root.modal_element;\r\n\r\n\tif(modal.dataset.key) modal.dataset.key = element.dataset.key;\r\n\r\n\tif(!document.body.classList.contains('modal-open'))\r\n\t\troot.main.style.transform = `translateY(-${ window.scrollY || document.body.scrollTop }px)`;\r\n\r\n\tscroll(0,0);\r\n\r\n\tmodal.dataset.load = element.dataset.modal;\r\n\r\n\trequestAnimationFrame(()=>document.body.classList.add('modal-open'))\r\n\r\n  },\r\n\r\n  close: (element) => {\r\n\r\n\tlet scrolltop = parseInt(root.main.style.transform.replace('translateY(', ''), 10);\r\n\r\n\tdocument.body.classList.remove('modal-open');\r\n\r\n\troot.main.removeAttribute('style');\r\n\r\n\troot.modal_element.load = \"modal.empty\";\r\n\r\n\twindow.scroll(0, -1 * scrolltop);\r\n\r\n  },\r\n\r\n  empty: ''\r\n\r\n};","let prefill = module.exports = {\r\n\r\n  memory: {},\r\n\r\n  load: (element) => {\r\n\r\n    element.dataset.input = 'prefill.edit';\r\n\r\n    if(!element.dataset.key) return;\r\n\r\n    let key = element.dataset.key,\r\n        collection = key.split('_')[0],\r\n        item = root[collection].memory[key];\r\n\r\n    if(!item[element.dataset.property]) return;\r\n\r\n    let property_key = item[element.dataset.property],\r\n        property_collection = property_key.split('_')[0];\r\n\r\n    if(!root[property_collection]) return;\r\n\r\n    let property = root[property_collection].memory[property_key];\r\n\r\n    element.value = property.name;\r\n\r\n  },\r\n\r\n  select: (element) => {\r\n\r\n    let key = element.dataset.key,\r\n        collection = key.split('_')[0],\r\n        item = root[collection].memory[key];\r\n    \r\n    let input = element.parentElement.parentElement.querySelector('input');\r\n\r\n    input.value = item.name;\r\n\r\n    let input_collection = input.dataset.key.split('_')[0];\r\n\r\n    element.parentElement.innerHTML = '';\r\n\r\n    let request = {\r\n       request: 'edit',\r\n       key: input.dataset.key\r\n     };\r\n\r\n     request[input.dataset.property] = item.key;\r\n\r\n     root.send(request);\r\n\r\n  },\r\n\r\n  submit: (element) => {\r\n\r\n    let selection = element.querySelector('li');\r\n\r\n    if(selection) prefill.select(selection);\r\n\r\n  },\r\n\r\n  edit: function search(element, keys) {\r\n\r\n    let ul = element.parentElement.querySelector('ul');\r\n\r\n    if(!keys) ul.innerHTML = '';\r\n\r\n    keys = keys || Object.keys(root[element.dataset.collection].memory);\r\n\r\n    if(prefill.loop && prefill.loop > keys.length) return; // new loop started, this one stops\r\n\r\n    prefill.loop = keys.length - 1;\r\n\r\n    if(!keys.length || !element.value) return; // done looping\r\n\r\n    let key = keys.shift(),\r\n        collection = key.split('_')[0],\r\n        item = root[collection].memory[key];\r\n\r\n    if(String(item.name || '').toLowerCase().indexOf(String(element.value).toLowerCase()) == -1)\r\n      return search(element, keys);\r\n\r\n    requestAnimationFrame(()=>search(element, keys));\r\n\r\n    ul.innerHTML += `<li data-click=\"prefill.select\" data-key=\"${ item.key }\">${ item.name }</li>`\r\n\r\n  }\r\n\r\n};","let component = {\r\n    render: render,\r\n    uploads: {},\r\n    busy: false\r\n};\r\n\r\nmodule.exports = component;\r\n\r\nfunction render(elem) {\r\n\r\n    elem.addEventListener('dragover', hover);\r\n\r\n    elem.addEventListener('dragleave', hover);\r\n\r\n    elem.addEventListener('click', clicked);\r\n\r\n    elem.addEventListener('change', changed);\r\n\r\n    elem.innerHTML = `<input type=\"file\" multiple=\"multiple\"><div class=\"progress\"><span></span></div>`;\r\n\r\n}\r\n\r\nfunction clicked(e) {\r\n\r\n    if (e.target.dataset.action != 'select') return e;\r\n\r\n    e.stopPropagation();\r\n\r\n    find_elem(e).firstElementChild.click();\r\n\r\n}\r\n\r\nfunction hover(e) {\r\n\r\n    e.stopPropagation();\r\n\r\n    find_elem(e).classList[e.type == 'dragover' ? 'add' : 'remove']\r\n        ('input-hover');\r\n\r\n}\r\n\r\nfunction find_elem(e, elem) {\r\n\r\n    elem = elem || e.target;\r\n\r\n    if (!elem.parentElement) return;\r\n\r\n    if (elem.dataset.load) return elem;\r\n\r\n    return find_elem(e, elem.parentElement);\r\n\r\n}\r\n\r\nfunction changed(e) {\r\n\r\n    extract(e);\r\n\r\n    return e;\r\n\r\n}\r\n\r\nfunction extract(e) {\r\n\r\n    e.stopPropagation();\r\n        \r\n    let files = e.target.files,\r\n        elem = find_elem(e);\r\n        \r\n    for (let i = 0; i < files.length; i++) {\r\n\r\n        let img = new Image();\r\n\r\n        elem.appendChild(img);\r\n\r\n        img.onload = loaded;\r\n\r\n        img.src = URL.createObjectURL(files[i]);\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction loaded(e) {\r\n\r\n    let props = {\r\n        img: e.target,\r\n        width: e.target.clientWidth,\r\n        height: e.target.clientHeight,\r\n        ratio: e.target.clientWidth / e.target.clientHeight\r\n    };\r\n\r\n    upload(e, read(e, paint(e, scale(props))));\r\n\r\n}\r\n\r\nfunction scale(props) {\r\n\r\n    let w = props.width,\r\n        h = props.height,\r\n        r = props.ratio;\r\n\r\n    if (w < 800) {\r\n        props.height = Math.floor(800 / r);\r\n        props.width = 800;\r\n    }\r\n\r\n    if (h < 300) {\r\n        props.width = Math.floor(300 * r);\r\n        props.height = 300;\r\n    }\r\n\r\n    if (h > 1080) {\r\n        props.width = Math.floor(1080 * r);\r\n        props.height = 1080;\r\n    }\r\n\r\n    if (w > 1920) {\r\n        props.height = Math.floor(1920 / r);\r\n        props.width = 1920;\r\n    }\r\n\r\n    return props;\r\n\r\n}\r\n\r\nfunction paint(e, props) {\r\n\r\n    props.canvas = document.createElement('canvas');\r\n\r\n    let elem = find_elem(e);\r\n\r\n    props.elem = elem;\r\n\r\n    elem.appendChild(props.canvas);\r\n\r\n    props.canvas.width = props.width;\r\n\r\n    props.canvas.height = props.height;\r\n\r\n    props.canvas.getContext('2d').drawImage(\r\n        props.img,\r\n        0,\r\n        0,\r\n        props.width,\r\n        props.height\r\n    );\r\n\r\n    elem.removeChild(props.img);\r\n\r\n    return props;\r\n\r\n}\r\n\r\nfunction read(e, props) {\r\n\r\n    props.blob = new Blob([new Uint8Array(\r\n        [].map.call(\r\n            atob(props.canvas.toDataURL('image/jpeg').split(',')[1]),\r\n            (b, i, binary) => binary.charCodeAt(i)\r\n        )\r\n    )], { type: 'image/jpeg' });\r\n\r\n    props.canvas.parentElement.removeChild(props.canvas);\r\n\r\n    return props;\r\n\r\n}\r\n\r\nfunction upload(e, props) {\r\n\r\n    let elem = props.elem,\r\n        indicator = elem.querySelector('.progress'),\r\n        xhr = new XMLHttpRequest();\r\n\r\n    xhr.open('PUT', '/upload', true);\r\n\r\n    xhr.upload.addEventListener('progress', progress);\r\n\r\n    xhr.addEventListener('load', (e) => load(props, 0, e));\r\n\r\n    xhr.send(props.blob);\r\n\r\n    function load(props, count, e) {\r\n\r\n        if(!xhr.responseText) return;\r\n        \r\n        root.send({\r\n          request: `set_course`,\r\n          set: { key: elem.dataset.key, thumbnail: JSON.parse(xhr.responseText).url }\r\n        }, (res)=> {\r\n\r\n          let course = root.courses.memory[elem.dataset.key];\r\n          \r\n          elem.style.backgroundImage = `url(${ course.thumbnail })`;\r\n\r\n        });\r\n\r\n    }\r\n\r\n    function progress(e) {\r\n\r\n        component.uploads[props.url] = {\r\n            loaded: e.loaded,\r\n            total: e.total\r\n        };\r\n\r\n        let uploads = Object.keys(component.uploads);\r\n\r\n        if (!uploads.length) return setTimeout(() => {\r\n\r\n            indicator.style.display = 'none';\r\n\r\n        }, 500);\r\n\r\n        let aggregate = uploads.reduce((memo, url) => {\r\n\r\n            memo.total += component.uploads[url].total;\r\n\r\n            memo.loaded += component.uploads[url].loaded;\r\n\r\n            return memo;\r\n\r\n        }, { loaded: 1, total: 1 });\r\n\r\n        let percentage = Math.floor(100 * aggregate.loaded / aggregate.total);\r\n\r\n        indicator.innerHTML =\r\n            `<span style=\"width:${ percentage }%;\"></span>${ percentage }%`;\r\n\r\n        if (percentage != 100) {\r\n\r\n            component.busy = true;\r\n\r\n            indicator.style.display = 'block';\r\n\r\n        } else component.busy = false;\r\n\r\n    }\r\n\r\n}","let updates = [];\r\n\r\nmodule.exports = init;\r\n\r\nfunction init() {\r\n\r\n  bind();\r\n\r\n  document.documentElement.addEventListener('click', listener);\r\n\r\n  document.documentElement.addEventListener('change', listener);\r\n\r\n  document.documentElement.addEventListener('input', listener);\r\n\r\n  document.documentElement.addEventListener('submit', listener);\r\n\r\n}\r\n\r\nfunction listener(e, element) {\r\n\r\n  element = element || e.target;\r\n\r\n  if(e.type.toLowerCase() == 'submit') e.preventDefault();\r\n\r\n  if (!element.dataset || !element.dataset[e.type]) {\r\n\r\n    if(!element.parentElement) return;\r\n\r\n    return listener(e, element.parentElement);\r\n\r\n  }\r\n\r\n  let target = root;\r\n\r\n  for (let i = 0, parts = element.dataset[e.type].split('.'); i < parts.length; i++) {\r\n\r\n    if (!target) return console.error(element.dataset[e.type] || e.type, 'does not exist');\r\n\r\n    target = target[parts[i]];\r\n\r\n  }\r\n\r\n  if(typeof target == 'string') return element.innerHTML = target;\r\n  \r\n  if(typeof target != 'function') return console.error(element.dataset[e.type] || e.type, 'does not exist');\r\n\r\n  target(element);\r\n\r\n}\r\n\r\nfunction bind() {\r\n\r\n  (function loop(){\r\n\r\n    if(!updates.length) return requestAnimationFrame(loop);\r\n\r\n    let elements = updates.splice(0, updates.length);\r\n\r\n    for(let i = 0; i < elements.length; i++) {\r\n\r\n      [].map.call(elements[i].querySelectorAll('[data-bind], [data-load]'), bind_one);\r\n\r\n    }\r\n\r\n    requestAnimationFrame(loop);\r\n\r\n  }());\r\n\r\n  new MutationObserver(observer).observe(\r\n    document.documentElement,\r\n    {\r\n      attributes: true,\r\n      subtree: true,\r\n      childList: true,\r\n      characterData: true\r\n    }\r\n  );\r\n\r\n}\r\n\r\nfunction observer(mutations) {\r\n\r\n  for(let i = 0; i < mutations.length; i++) {\r\n\r\n    if(mutations[i].type == 'attributes') {\r\n\r\n       if(mutations[i].attributeName == 'data-load') load(mutations[i].target);\r\n\r\n       continue;\r\n\r\n    }\r\n\r\n    if(mutations[i].type != 'childList') return;\r\n\r\n    if(updates.indexOf(mutations[i].target) == -1) updates.push(mutations[i].target);\r\n\r\n  }\r\n\r\n}\r\n\r\nfunction bind_one(element) {\r\n\r\n  let d = element.dataset,\r\n      key = d.bind == 'me' ? root.config.user : d.bind,\r\n      collection;\r\n\r\n  if(d.load) return load(element);\r\n\r\n  if(!key) return collection.error(d);\r\n\r\n  collection = root[key.split('_').slice(0, -1).join('_')];\r\n\r\n  if (!collection || !collection.memory[key]) return console.error(key);\r\n\r\n  let prop = d.value || d.text || d.bg || d.html,\r\n      obj = collection.memory[key];\r\n\r\n  if(d.value) element.value = obj[d.value] || '';\r\n\r\n  if(d.html) element.innerHTML = obj[d.html] || '';\r\n\r\n  if(d.text) element.innerHTML = (obj[d.text] || '').replace(/(>|<)/g, escape);\r\n\r\n  if(d.bg) element.style.backgroundImage = `url(\"${ obj[d.bg] || '' }`;\r\n\r\n}\r\n\r\nfunction load(element) {\r\n\r\n  let target = root;\r\n\r\n  for (let i = 0, parts = element.dataset.load.split('.'); i < parts.length; i++) {\r\n\r\n    target = target[parts[i]];\r\n\r\n    if (typeof target == 'undefined') {\r\n\r\n      if(element.dataset.load.indexOf('.html') != -1) return load_file(element);\r\n\r\n      return console.error(element.dataset.load, 'does not exist');\r\n\r\n    }\r\n\r\n  }\r\n\r\n  if(element.dataset.load.substring(0, 11) == 'labels.user') {\r\n\r\n    let user = root.users.memory[root.config.user],\r\n        str = element.dataset.load;\r\n    \r\n    str = str.substring(12);\r\n\r\n    if(user && typeof(str) == 'string' && user[str]) return element.value = user[str];\r\n\r\n  }\r\n\r\n  if(typeof target == 'string') return element.innerHTML = target;\r\n\r\n  if(typeof target == 'function') return target(element);\r\n\r\n}\r\n\r\nfunction load_file(element) {\r\n\r\n  let xhr = new XMLHttpRequest();\r\n\r\n  xhr.open('GET', `/${ element.dataset.load }`, true);\r\n\r\n  xhr.onreadystatechange = function(e) {\r\n\r\n    if (this.readyState != 4 || this.status != 200) return;\r\n\r\n    root.templates = root.templates || {};\r\n\r\n    let target = root.templates;\r\n\r\n    for (let i = 0, parts = element.dataset.load.split('.'); i + 1 < parts.length; i++) {\r\n\r\n      if (!target) return;\r\n\r\n      target[parts[i]] = target[parts[i]] || {};\r\n\r\n      target = target[parts[i]];\r\n\r\n    }\r\n\r\n    element.innerHTML = target.html = this.responseText;\r\n\r\n  }\r\n\r\n  xhr.send();\r\n\r\n\r\n}\r\n\r\nfunction escape(match) {\r\n\r\n  return match == '>' ? '&gt;' : '&lt;';\r\n\r\n}","if (!Object.assign) {\r\n  Object.defineProperty(Object, 'assign', {\r\n    enumerable: false,\r\n    configurable: true,\r\n    writable: true,\r\n    value: function(target) {\r\n      'use strict';\r\n      if (target === undefined || target === null) {\r\n        throw new TypeError('Cannot convert first argument to object');\r\n      }\r\n\r\n      var to = Object(target);\r\n      for (var i = 1; i < arguments.length; i++) {\r\n        var nextSource = arguments[i];\r\n        if (nextSource === undefined || nextSource === null) {\r\n          continue;\r\n        }\r\n        nextSource = Object(nextSource);\r\n\r\n        var keysArray = Object.keys(Object(nextSource));\r\n        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n          var nextKey = keysArray[nextIndex];\r\n          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n          if (desc !== undefined && desc.enumerable) {\r\n            to[nextKey] = nextSource[nextKey];\r\n          }\r\n        }\r\n      }\r\n      return to;\r\n    }\r\n  });\r\n}\r\n\r\n(function () {\r\n\r\n  if (typeof window.Element === \"undefined\" || \"classList\" in document.documentElement) return;\r\n\r\n  var prototype = Array.prototype,\r\n      push = prototype.push,\r\n      splice = prototype.splice,\r\n      join = prototype.join;\r\n\r\n  function DOMTokenList(el) {\r\n    this.el = el;\r\n    // The className needs to be trimmed and split on whitespace\r\n    // to retrieve a list of classes.\r\n    var classes = el.className.replace(/^\\s+|\\s+$/g,'').split(/\\s+/);\r\n    for (var i = 0; i < classes.length; i++) {\r\n      push.call(this, classes[i]);\r\n    }\r\n  };\r\n\r\n  DOMTokenList.prototype = {\r\n    add: function(token) {\r\n      if(this.contains(token)) return;\r\n      push.call(this, token);\r\n      this.el.className = this.toString();\r\n    },\r\n    contains: function(token) {\r\n      return this.el.className.indexOf(token) != -1;\r\n    },\r\n    item: function(index) {\r\n      return this[index] || null;\r\n    },\r\n    remove: function(token) {\r\n      if (!this.contains(token)) return;\r\n      for (var i = 0; i < this.length; i++) {\r\n        if (this[i] == token) break;\r\n      }\r\n      splice.call(this, i, 1);\r\n      this.el.className = this.toString();\r\n    },\r\n    toString: function() {\r\n      return join.call(this, ' ');\r\n    },\r\n    toggle: function(token) {\r\n      if (!this.contains(token)) {\r\n        this.add(token);\r\n      } else {\r\n        this.remove(token);\r\n      }\r\n\r\n      return this.contains(token);\r\n    }\r\n  };\r\n\r\n  window.DOMTokenList = DOMTokenList;\r\n\r\n  function defineElementGetter (obj, prop, getter) {\r\n      if (Object.defineProperty) {\r\n          Object.defineProperty(obj, prop,{\r\n              get : getter\r\n          });\r\n      } else {\r\n          obj.__defineGetter__(prop, getter);\r\n      }\r\n  }\r\n\r\n  defineElementGetter(Element.prototype, 'classList', function () {\r\n    return new DOMTokenList(this);\r\n  });\r\n\r\n})();\r\n\r\n","require('./polyfill.js');\r\n\r\nwindow.AOS = require('./components/aos.js');\r\n\r\nconst DEV_MODE = true;\r\n\r\nwindow.root = {\r\n\r\n  config: init(),\r\n\r\n  incoming: incoming,\r\n  \r\n  templates: require('./collections/templates.js'),\r\n  \r\n  courses: require('./collections/courses.js'),\r\n  \r\n  blocks: require('./collections/blocks.js'),\r\n\r\n  sessions: require('./collections/sessions.js'),\r\n\r\n  labels: require('./components/labels.js'),\r\n  \r\n  modal: require('./components/modal.js'),\r\n\r\n  upload: require('./components/upload.js'),\r\n\r\n  editor: require('./components/editor.js'),\r\n  \r\n  prefill: require('./components/prefill.js'),\r\n\r\n  tickets: require('./collections/tickets.js'),\r\n\r\n  users: require('./collections/users.js')\r\n\r\n};\r\n\r\nfunction init(){\r\n\r\n  require('./listeners.js')();\r\n\r\n  requestAnimationFrame(()=> {\r\n\r\n\troot.sessions.load();\r\n\r\n\tcreate_websocket();\r\n\r\n  });\r\n\r\n  return {\r\n    user: '',\r\n    session: '',\r\n    error: error,\r\n    query: location.search.slice(1).split('&').reduce((memo, pair) => {\r\n\r\n\t  let p = pair.split('=');\r\n\r\n\t  memo[p[0]] = p[1];\r\n\r\n\t  return memo;\r\n\r\n\t}, {})\r\n  };\r\n\r\n}\r\n\r\nfunction create_websocket() {\r\n\r\n  let query = '',\r\n      callbacks = [];\r\n\r\n  for(let i in localStorage)\r\n    query += (query ? '&' : '?') + encodeURIComponent(i) + '=' +  encodeURIComponent(localStorage.getItem(i));\r\n\r\n  let ws = new WebSocket(DEV_MODE ?\r\n    `ws://localhost:443/${ query }` :\r\n    `wss://vitalityone.fearless-apps.com/${ query }`\r\n  );\r\n\r\n  ws.addEventListener('message', function listener(e){\r\n\r\n    incoming(JSON.parse(e.data), callbacks);\r\n\r\n    ws.removeEventListener('message', listener);\r\n\r\n    ws.addEventListener('message', (e) => incoming(JSON.parse(e.data), callbacks));\r\n\r\n  });\r\n\r\n  root.send = Send(ws, callbacks);\r\n\r\n}\r\n\r\nfunction error(element) {\r\n\r\n  if(element && element.dataset) return console.error(element.dataset.message);\r\n  \r\n  console.error(arguments);\r\n\r\n}\r\n\r\nfunction Send(ws, callbacks) {\r\n\r\n  return function send(data, callback) {\r\n\r\n    let cb = `cb_${ Math.floor(Math.random() * 10000) }`;\r\n\r\n    data.callback = cb;\r\n\r\n    if(callback) callbacks[cb] = callback;\r\n\r\n    ws.send(JSON.stringify(data));\r\n\r\n  };\r\n\r\n}\r\n\r\nfunction incoming(message, callbacks){\r\n\r\n  if(message instanceof Array) {\r\n\r\n  \tfor(let m in message) merge(message[m]);\r\n\r\n\treturn;\r\n\r\n  }\r\n\r\n  merge(message);\r\n  \r\n  if(message.error) notify(message);\r\n\r\n  if(message.redirect) location.href = message.redirect;\r\n\r\n  if(message.callback && callbacks[message.callback]) {\r\n\r\n  \tcallbacks[message.callback](message);\r\n\r\n  \tdelete callbacks[message.callback];\r\n  \t\r\n  }\r\n\r\n  if(typeof message.token == 'undefined') return;\r\n\r\n  root.me = Object.assign(root.me || {}, message);\r\n\r\n  document.body.classList[message.token ? 'add' : 'remove']('authenticated');\r\n\r\n  if(!message.token) root.sessions.url('/');\r\n\r\n  localStorage.setItem('authenticated', message.token || '');\r\n  \r\n  if(history.state.page == 'home') root.sessions.url('/courses');\r\n  \r\n  root.sessions.load_page(null, { prevent_url: true });\r\n\r\n}\r\n\r\nfunction notify(message) {\r\n\r\n  \tdocument.body.classList.add('notified');\r\n\r\n\tdocument.querySelector('#notification-message').innerHTML = message.error;\r\n\t\r\n}\r\n\r\nfunction merge(message){\r\n\r\n  if(!message.key) return;\r\n\r\n  let collection = message.key.split('_').slice(0, -1).join('_');\r\n\r\n  if(!root[collection]) return console.log(`collection <${ collection }> not found`);\r\n\r\n  if(!root[collection].memory[message.key]) {\r\n\r\n  \troot[collection].memory[message.key] = message;\r\n\r\n  \treturn root[collection].updated = true;\r\n\r\n  }\r\n  \r\n  root[collection].memory[message.key] = Object.assign(root[collection].memory[message.key] || {}, message);\r\n  \r\n}","/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n  if (window._ar) return;\n  window._ar = true;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    },\n\n    javascript: function(){\n      var scripts = [].slice.call(document.querySelectorAll('script'));\n      var textScripts = scripts.map(function(script) { return script.text }).filter(function(text) { return text.length > 0 });\n      var srcScripts = scripts.filter(function(script) { return script.src });\n\n      var loaded = 0;\n      var all = srcScripts.length;\n      var onLoad = function() {\n        loaded = loaded + 1;\n        if (loaded === all) {\n          textScripts.forEach(function(script) { eval(script); });\n        }\n      }\n\n      srcScripts\n        .forEach(function(script) {\n          var src = script.src;\n          script.remove();\n          var newScript = document.createElement('script');\n          newScript.src = cacheBuster(src);\n          newScript.async = true;\n          newScript.onload = onLoad;\n          document.head.appendChild(newScript);\n        });\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */\n"]}
>>>>>>> 77f46f67a7c49a38f20419ff44167a1549460de0
